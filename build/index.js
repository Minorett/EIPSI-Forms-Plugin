(()=>{"use strict";var e,a={17:(e,a,i)=>{const s=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.components,n=window.wp.i18n,l=window.wp.data,t=window.wp.htmlEntities,c=window.wp.serverSideRender;var d=i.n(c);const m=window.wp.element,p=window.ReactJSXRuntime;(0,s.registerBlockType)("vas-dinamico/form-block",{edit:({attributes:e,setAttributes:a})=>{const{templateId:i}=e,s=(0,o.useBlockProps)(),c=(0,m.useMemo)(()=>({per_page:-1,status:"publish",orderby:"title",order:"asc"}),[]),{formTemplates:u,isLoading:f}=(0,l.useSelect)(e=>{const a=e("core"),i=e("core/data");return{formTemplates:a?.getEntityRecords("postType","eipsi_form_template",c)||[],isLoading:i?.isResolving("core","getEntityRecords",["postType","eipsi_form_template",c])}},[c]),g=(0,m.useMemo)(()=>[{label:(0,n.__)("â€” SeleccionÃ¡ un formulario â€”","vas-dinamico-forms"),value:""},...u.map(e=>({label:(0,t.decodeEntities)(e.title.rendered)||(0,n.__)("(Sin tÃ­tulo)","vas-dinamico-forms"),value:String(e.id)}))],[u]);return(0,p.jsxs)("div",{...s,children:[(0,p.jsx)(o.InspectorControls,{children:(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("ConfiguraciÃ³n del formulario","vas-dinamico-forms"),initialOpen:!0,children:[f&&(0,p.jsxs)("div",{style:{textAlign:"center",padding:"20px"},children:[(0,p.jsx)(r.Spinner,{}),(0,p.jsx)("p",{style:{marginTop:"10px",color:"#666"},children:(0,n.__)("Cargando formulariosâ€¦","vas-dinamico-forms")})]}),!f&&0===u.length&&(0,p.jsxs)("div",{style:{padding:"12px",background:"#f0f0f1",borderRadius:"4px"},children:[(0,p.jsx)("p",{style:{margin:0,fontSize:"13px",color:"#666"},children:(0,n.__)("No hay formularios creados aÃºn.","vas-dinamico-forms")}),(0,p.jsx)("p",{style:{margin:"8px 0 0",fontSize:"13px"},children:(0,p.jsx)("a",{href:"/wp-admin/post-new.php?post_type=eipsi_form_template",target:"_blank",children:(0,n.__)("+ Crear tu primer formulario","vas-dinamico-forms")})})]}),!f&&u.length>0&&(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Formulario a mostrar","vas-dinamico-forms"),value:i?String(i):"",options:g,onChange:e=>a({templateId:e?parseInt(e,10):0}),help:(0,n.__)("ElegÃ­ un formulario de la librerÃ­a para mostrarlo en esta pÃ¡gina.","vas-dinamico-forms")})]})}),i?(0,p.jsx)(d(),{block:"vas-dinamico/form-block",attributes:e}):(0,p.jsx)("div",{className:"vas-dinamico-form-placeholder",children:(0,p.jsxs)("div",{className:"components-placeholder",children:[(0,p.jsx)("div",{className:"components-placeholder__label",children:(0,n.__)("Formulario EIPSI","vas-dinamico-forms")}),(0,p.jsx)("div",{className:"components-placeholder__instructions",children:(0,n.__)("SeleccionÃ¡ un formulario de la librerÃ­a en la configuraciÃ³n del bloque â†’","vas-dinamico-forms")})]})})]})},save:()=>null});const u={colors:{primary:"#005a87",primaryHover:"#003d5b",secondary:"#e3f2fd",background:"#ffffff",backgroundSubtle:"#f8f9fa",text:"#2c3e50",textMuted:"#64748b",inputBg:"#ffffff",inputText:"#2c3e50",inputBorder:"#64748b",inputBorderFocus:"#005a87",inputErrorBg:"#fff5f5",inputIcon:"#005a87",buttonBg:"#005a87",buttonText:"#ffffff",buttonHoverBg:"#003d5b",error:"#d32f2f",success:"#198754",warning:"#b35900",border:"#64748b",borderDark:"#475569"},typography:{fontFamilyHeading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontFamilyBody:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSizeBase:"16px",fontSizeH1:"2rem",fontSizeH2:"1.75rem",fontSizeH3:"1.5rem",fontSizeSmall:"0.875rem",fontWeightNormal:"400",fontWeightMedium:"500",fontWeightBold:"700",lineHeightBase:"1.6",lineHeightHeading:"1.3"},spacing:{xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2.5rem",containerPadding:"2.5rem",fieldGap:"1.5rem",sectionGap:"2rem"},borders:{radiusSm:"8px",radiusMd:"12px",radiusLg:"20px",width:"1px",widthFocus:"2px",style:"solid"},shadows:{sm:"0 2px 8px rgba(0, 90, 135, 0.08)",md:"0 4px 12px rgba(0, 90, 135, 0.1)",lg:"0 8px 25px rgba(0, 90, 135, 0.1)",focus:"0 0 0 3px rgba(0, 90, 135, 0.1)",error:"0 0 0 3px rgba(211, 47, 47, 0.15)"},interactivity:{transitionDuration:"0.2s",transitionTiming:"ease",hoverScale:"1.02",focusOutlineWidth:"2px",focusOutlineOffset:"2px"}};function f(e){if(e.styleConfig&&"object"==typeof e.styleConfig)return e.styleConfig;const a=JSON.parse(JSON.stringify(u));return e.backgroundColor&&(a.colors.background=e.backgroundColor),e.textColor&&(a.colors.text=e.textColor),e.primaryColor&&(a.colors.primary=e.primaryColor,a.colors.buttonBg=e.primaryColor),e.inputBgColor&&(a.colors.inputBg=e.inputBgColor),e.inputTextColor&&(a.colors.inputText=e.inputTextColor),e.buttonBgColor&&(a.colors.buttonBg=e.buttonBgColor),e.buttonTextColor&&(a.colors.buttonText=e.buttonTextColor),void 0!==e.borderRadius&&(a.borders.radiusMd=`${e.borderRadius}px`),void 0!==e.padding&&(a.spacing.containerPadding=`${e.padding}px`),a}function g(e){const a=e||u;return{"--eipsi-color-primary":a.colors.primary,"--eipsi-color-primary-hover":a.colors.primaryHover,"--eipsi-color-secondary":a.colors.secondary,"--eipsi-color-background":a.colors.background,"--eipsi-color-background-subtle":a.colors.backgroundSubtle,"--eipsi-color-text":a.colors.text,"--eipsi-color-text-muted":a.colors.textMuted,"--eipsi-color-input-bg":a.colors.inputBg,"--eipsi-color-input-text":a.colors.inputText,"--eipsi-color-input-border":a.colors.inputBorder,"--eipsi-color-input-border-focus":a.colors.inputBorderFocus,"--eipsi-color-input-error-bg":a.colors.inputErrorBg,"--eipsi-color-input-icon":a.colors.inputIcon,"--eipsi-color-button-bg":a.colors.buttonBg,"--eipsi-color-button-text":a.colors.buttonText,"--eipsi-color-button-hover-bg":a.colors.buttonHoverBg,"--eipsi-color-error":a.colors.error,"--eipsi-color-success":a.colors.success,"--eipsi-color-warning":a.colors.warning,"--eipsi-color-border":a.colors.border,"--eipsi-color-border-dark":a.colors.borderDark,"--eipsi-font-family-heading":a.typography.fontFamilyHeading,"--eipsi-font-family-body":a.typography.fontFamilyBody,"--eipsi-font-size-base":a.typography.fontSizeBase,"--eipsi-font-size-h1":a.typography.fontSizeH1,"--eipsi-font-size-h2":a.typography.fontSizeH2,"--eipsi-font-size-h3":a.typography.fontSizeH3,"--eipsi-font-size-small":a.typography.fontSizeSmall,"--eipsi-font-weight-normal":a.typography.fontWeightNormal,"--eipsi-font-weight-medium":a.typography.fontWeightMedium,"--eipsi-font-weight-bold":a.typography.fontWeightBold,"--eipsi-line-height-base":a.typography.lineHeightBase,"--eipsi-line-height-heading":a.typography.lineHeightHeading,"--eipsi-spacing-xs":a.spacing.xs,"--eipsi-spacing-sm":a.spacing.sm,"--eipsi-spacing-md":a.spacing.md,"--eipsi-spacing-lg":a.spacing.lg,"--eipsi-spacing-xl":a.spacing.xl,"--eipsi-spacing-container-padding":a.spacing.containerPadding,"--eipsi-spacing-field-gap":a.spacing.fieldGap,"--eipsi-spacing-section-gap":a.spacing.sectionGap,"--eipsi-border-radius-sm":a.borders.radiusSm,"--eipsi-border-radius-md":a.borders.radiusMd,"--eipsi-border-radius-lg":a.borders.radiusLg,"--eipsi-border-width":a.borders.width,"--eipsi-border-width-focus":a.borders.widthFocus,"--eipsi-border-style":a.borders.style,"--eipsi-shadow-sm":a.shadows.sm,"--eipsi-shadow-md":a.shadows.md,"--eipsi-shadow-lg":a.shadows.lg,"--eipsi-shadow-focus":a.shadows.focus,"--eipsi-shadow-error":a.shadows.error,"--eipsi-transition-duration":a.interactivity.transitionDuration,"--eipsi-transition-timing":a.interactivity.transitionTiming,"--eipsi-hover-scale":a.interactivity.hoverScale,"--eipsi-focus-outline-width":a.interactivity.focusOutlineWidth,"--eipsi-focus-outline-offset":a.interactivity.focusOutlineOffset}}function h(e){if(!e||"string"!=typeof e)return null;const a=e.trim();if(a.startsWith("#"))return function(e){const a=e.replace(/^#/,"");let i,s,o;if(3===a.length)i=parseInt(a[0]+a[0],16),s=parseInt(a[1]+a[1],16),o=parseInt(a[2]+a[2],16);else{if(6!==a.length)return null;i=parseInt(a.substring(0,2),16),s=parseInt(a.substring(2,4),16),o=parseInt(a.substring(4,6),16)}return{r:i,g:s,b:o}}(a);const i=a.match(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);return i?{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)}:null}function x(e){if(!e)return 0;const a=e.r/255,i=e.g/255,s=e.b/255;return.2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}function v(e,a){const i=function(e,a){const i=h(e),s=h(a);if(!i||!s)return 0;const o=x(i),r=x(s);return(Math.max(o,r)+.05)/(Math.min(o,r)+.05)}(e,a);return i>=7?{passes:!0,level:"AAA",ratio:i.toFixed(2),message:"Excellent contrast (WCAG AAA)"}:i>=4.5?{passes:!0,level:"AA",ratio:i.toFixed(2),message:"Good contrast (WCAG AA)"}:{passes:!1,level:"Fail",ratio:i.toFixed(2),message:`Insufficient contrast (${i.toFixed(2)}:1). Minimum 4.5:1 required for accessibility.`}}const b=[{name:"Clinical Blue",description:"Professional medical research with balanced design and EIPSI blue branding",config:{...u}},{name:"Minimal White",description:"Ultra-clean minimalist design with sharp lines and abundant white space",config:{colors:{primary:"#475569",primaryHover:"#1e293b",secondary:"#f8fafc",background:"#ffffff",backgroundSubtle:"#fafbfc",text:"#0f172a",textMuted:"#556677",inputBg:"#ffffff",inputText:"#0f172a",inputBorder:"#64748b",inputBorderFocus:"#475569",inputErrorBg:"#fef2f2",inputIcon:"#475569",buttonBg:"#475569",buttonText:"#ffffff",buttonHoverBg:"#1e293b",error:"#c53030",success:"#28744c",warning:"#b35900",border:"#64748b",borderDark:"#475569"},typography:{fontFamilyHeading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontFamilyBody:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSizeBase:"16px",fontSizeH1:"1.875rem",fontSizeH2:"1.5rem",fontSizeH3:"1.25rem",fontSizeSmall:"0.875rem",fontWeightNormal:"400",fontWeightMedium:"500",fontWeightBold:"600",lineHeightBase:"1.7",lineHeightHeading:"1.25"},spacing:{xs:"0.75rem",sm:"1.25rem",md:"2rem",lg:"2.75rem",xl:"4rem",containerPadding:"3.5rem",fieldGap:"2rem",sectionGap:"3rem"},borders:{radiusSm:"4px",radiusMd:"6px",radiusLg:"8px",width:"1px",widthFocus:"2px",style:"solid"},shadows:{sm:"none",md:"none",lg:"none",focus:"0 0 0 3px rgba(71, 85, 105, 0.15)",error:"0 0 0 3px rgba(197, 48, 48, 0.15)"},interactivity:{transitionDuration:"0.15s",transitionTiming:"ease",hoverScale:"1",focusOutlineWidth:"2px",focusOutlineOffset:"2px"}}},{name:"Warm Neutral",description:"Warm and approachable with rounded corners and inviting serif typography",config:{colors:{primary:"#8b6f47",primaryHover:"#6b5437",secondary:"#f5f1eb",background:"#fdfcfa",backgroundSubtle:"#f7f4ef",text:"#3d3935",textMuted:"#6b6560",inputBg:"#ffffff",inputText:"#3d3935",inputBorder:"#8b7a65",inputBorderFocus:"#8b6f47",inputErrorBg:"#fff5f5",inputIcon:"#8b6f47",buttonBg:"#8b6f47",buttonText:"#ffffff",buttonHoverBg:"#6b5437",error:"#c53030",success:"#2a7850",warning:"#b04d1f",border:"#8b7a65",borderDark:"#6b5437"},typography:{fontFamilyHeading:'Georgia, "Times New Roman", serif',fontFamilyBody:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSizeBase:"16px",fontSizeH1:"2rem",fontSizeH2:"1.75rem",fontSizeH3:"1.5rem",fontSizeSmall:"0.875rem",fontWeightNormal:"400",fontWeightMedium:"500",fontWeightBold:"700",lineHeightBase:"1.7",lineHeightHeading:"1.35"},spacing:{xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2.5rem",containerPadding:"2.5rem",fieldGap:"1.75rem",sectionGap:"2.25rem"},borders:{radiusSm:"10px",radiusMd:"14px",radiusLg:"20px",width:"1px",widthFocus:"2px",style:"solid"},shadows:{sm:"0 2px 8px rgba(139, 111, 71, 0.08)",md:"0 4px 12px rgba(139, 111, 71, 0.12)",lg:"0 8px 25px rgba(139, 111, 71, 0.15)",focus:"0 0 0 3px rgba(139, 111, 71, 0.15)",error:"0 0 0 3px rgba(197, 48, 48, 0.15)"},interactivity:{transitionDuration:"0.25s",transitionTiming:"ease-out",hoverScale:"1.01",focusOutlineWidth:"2px",focusOutlineOffset:"2px"}}},{name:"Serene Teal",description:"Calming teal tones with balanced design for therapeutic assessments",config:{colors:{primary:"#0e7490",primaryHover:"#155e75",secondary:"#e0f2fe",background:"#ffffff",backgroundSubtle:"#f0f9ff",text:"#0c4a6e",textMuted:"#475569",inputBg:"#ffffff",inputText:"#0c4a6e",inputBorder:"#0891b2",inputBorderFocus:"#0e7490",inputErrorBg:"#fef2f2",inputIcon:"#0e7490",buttonBg:"#0e7490",buttonText:"#ffffff",buttonHoverBg:"#155e75",error:"#dc2626",success:"#047857",warning:"#b35900",border:"#0891b2",borderDark:"#0e7490"},typography:{fontFamilyHeading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontFamilyBody:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSizeBase:"16px",fontSizeH1:"2rem",fontSizeH2:"1.625rem",fontSizeH3:"1.375rem",fontSizeSmall:"0.875rem",fontWeightNormal:"400",fontWeightMedium:"500",fontWeightBold:"600",lineHeightBase:"1.65",lineHeightHeading:"1.3"},spacing:{xs:"0.5rem",sm:"1rem",md:"1.75rem",lg:"2.25rem",xl:"3rem",containerPadding:"2.75rem",fieldGap:"1.75rem",sectionGap:"2.5rem"},borders:{radiusSm:"10px",radiusMd:"16px",radiusLg:"24px",width:"1px",widthFocus:"2px",style:"solid"},shadows:{sm:"0 2px 8px rgba(8, 145, 178, 0.08)",md:"0 4px 12px rgba(8, 145, 178, 0.1)",lg:"0 8px 24px rgba(8, 145, 178, 0.12)",focus:"0 0 0 3px rgba(8, 145, 178, 0.2)",error:"0 0 0 3px rgba(220, 38, 38, 0.15)"},interactivity:{transitionDuration:"0.25s",transitionTiming:"ease-out",hoverScale:"1.015",focusOutlineWidth:"2px",focusOutlineOffset:"2px"}}}],_=({styleConfig:e,setStyleConfig:a,presetName:i,setPresetName:s})=>{const[o,l]=(0,m.useState)(i||null),t=e||u,c=(e,i,s)=>{const o={...t,[e]:{...t[e],[i]:s}};a(o),l(null)},d=v(t.colors.text,t.colors.background),f=v(t.colors.textMuted,t.colors.backgroundSubtle),g=v(t.colors.buttonText,t.colors.buttonBg),h=v(t.colors.buttonText,t.colors.buttonHoverBg),x=v(t.colors.inputText,t.colors.inputBg),_=v(t.colors.error,t.colors.background),j=v(t.colors.success,t.colors.background),y=v(t.colors.warning,t.colors.background),N=[{name:"EIPSI Blue",color:"#005a87"},{name:"Dark Blue",color:"#003d5b"},{name:"Light Blue",color:"#e3f2fd"},{name:"Navy",color:"#2c5aa0"},{name:"White",color:"#ffffff"},{name:"Light Gray",color:"#f8f9fa"},{name:"Dark Gray",color:"#2c3e50"},{name:"Medium Gray",color:"#64748b"},{name:"Border Gray",color:"#e2e8f0"},{name:"Black",color:"#000000"},{name:"Error Red (WCAG AA)",color:"#d32f2f"},{name:"Success Green (WCAG AA)",color:"#198754"},{name:"Warning Brown (WCAG AA)",color:"#b35900"},{name:"Warm Brown",color:"#8b6f47"}],C=[{label:"System Default",value:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},{label:"Arial",value:"Arial, sans-serif"},{label:"Helvetica",value:"Helvetica, Arial, sans-serif"},{label:"Georgia (Serif)",value:'Georgia, "Times New Roman", serif'},{label:"Times New Roman",value:'"Times New Roman", serif'},{label:"Courier New (Mono)",value:'"Courier New", monospace'},{label:"Verdana",value:"Verdana, sans-serif"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("ðŸŽ¨ Theme Presets","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Apply professionally designed themes optimized for clinical research.","vas-dinamico-forms")}),(0,p.jsx)("div",{className:"eipsi-preset-grid",children:b.map(e=>{const i=function(e){return{primary:e.config.colors.primary,background:e.config.colors.background,backgroundSubtle:e.config.colors.backgroundSubtle,text:e.config.colors.text,border:e.config.colors.border,buttonBg:e.config.colors.buttonBg,buttonText:e.config.colors.buttonText,borderRadius:e.config.borders.radiusMd,shadow:e.config.shadows.md,fontFamily:e.config.typography.fontFamilyHeading}}(e),n=o===e.name;return(0,p.jsxs)("button",{className:"eipsi-preset-button "+(n?"is-active":""),onClick:()=>(e=>{a(JSON.parse(JSON.stringify(e.config))),l(e.name),s(e.name)})(e),title:e.description,children:[(0,p.jsxs)("div",{className:"eipsi-preset-preview",style:{background:i.backgroundSubtle,borderColor:i.border,borderRadius:i.borderRadius,boxShadow:i.shadow},children:[(0,p.jsx)("div",{className:"eipsi-preset-button-sample",style:{background:i.buttonBg,color:i.buttonText,borderRadius:i.borderRadius},children:"Button"}),(0,p.jsx)("div",{className:"eipsi-preset-text",style:{color:i.text,fontFamily:i.fontFamily},children:"Text"})]}),(0,p.jsx)("span",{className:"eipsi-preset-name",children:e.name}),n&&(0,p.jsx)(r.Dashicon,{icon:"yes-alt",className:"eipsi-preset-checkmark"})]},e.name)})}),(0,p.jsx)(r.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{window.confirm((0,n.__)("Reset all customizations to default clinical theme?","vas-dinamico-forms"))&&(a(JSON.parse(JSON.stringify(u))),l("Clinical Blue"),s("Clinical Blue"))},style:{marginTop:"1rem",width:"100%"},children:(0,n.__)("Reset to Default","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("ðŸŽ¨ Colors","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Customize form colors. Maintain 4.5:1 contrast ratio for accessibility.","vas-dinamico-forms")}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Brand Colors","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Primary","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.primary})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.primary,onChange:e=>c("colors","primary",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Primary Hover","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.primaryHover})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.primaryHover,onChange:e=>c("colors","primaryHover",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Secondary","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.secondary})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.secondary,onChange:e=>c("colors","secondary",e),clearable:!1})]}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Background & Text","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Background","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.background})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.background,onChange:e=>c("colors","background",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Text","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.text})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.text,onChange:e=>c("colors","text",e),clearable:!1})]}),!d.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",d.message]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Text Muted","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.textMuted})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.textMuted,onChange:e=>c("colors","textMuted",e),clearable:!1})]}),!f.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",(0,n.__)("Text Muted on Background Subtle:","vas-dinamico-forms"),f.message]}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Input Fields","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Input Background","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.inputBg})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.inputBg,onChange:e=>c("colors","inputBg",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Input Text","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.inputText})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.inputText,onChange:e=>c("colors","inputText",e),clearable:!1})]}),!x.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",x.message]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Input Border","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.inputBorder})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.inputBorder,onChange:e=>c("colors","inputBorder",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Input Border (Focus)","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.inputBorderFocus})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.inputBorderFocus,onChange:e=>c("colors","inputBorderFocus",e),clearable:!1})]}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Buttons","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Button Background","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.buttonBg})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.buttonBg,onChange:e=>c("colors","buttonBg",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Button Text","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.buttonText})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.buttonText,onChange:e=>c("colors","buttonText",e),clearable:!1})]}),!g.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",g.message]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Button Hover","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.buttonHoverBg})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.buttonHoverBg,onChange:e=>c("colors","buttonHoverBg",e),clearable:!1})]}),!h.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",(0,n.__)("Button Text on Hover Background:","vas-dinamico-forms"),h.message]}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Status & Feedback","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Error","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.error})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.error,onChange:e=>c("colors","error",e),clearable:!1})]}),!_.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",(0,n.__)("Error messages must be readable.","vas-dinamico-forms"),_.message]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Success","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.success})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.success,onChange:e=>c("colors","success",e),clearable:!1})]}),!j.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",(0,n.__)("Success messages must be readable.","vas-dinamico-forms"),j.message]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Warning","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.warning})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.warning,onChange:e=>c("colors","warning",e),clearable:!1})]}),!y.passes&&(0,p.jsxs)(r.Notice,{status:"warning",isDismissible:!1,children:[(0,p.jsx)("strong",{children:(0,n.__)("Contrast Warning:","vas-dinamico-forms")})," ",(0,n.__)("Warning messages must be readable.","vas-dinamico-forms"),y.message]}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Borders","vas-dinamico-forms")}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Border","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.border})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.border,onChange:e=>c("colors","border",e),clearable:!1})]}),(0,p.jsxs)("div",{className:"eipsi-color-control",children:[(0,p.jsxs)(r.Flex,{align:"flex-start",justify:"space-between",children:[(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)("label",{children:(0,n.__)("Border Dark","vas-dinamico-forms")})}),(0,p.jsx)(r.FlexItem,{children:(0,p.jsx)(r.ColorIndicator,{colorValue:t.colors.borderDark})})]}),(0,p.jsx)(r.ColorPalette,{colors:N,value:t.colors.borderDark,onChange:e=>c("colors","borderDark",e),clearable:!1})]})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("âœï¸ Typography","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Configure font families and sizes for optimal readability.","vas-dinamico-forms")}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Font Families","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Heading Font","vas-dinamico-forms"),value:t.typography.fontFamilyHeading,options:C,onChange:e=>c("typography","fontFamilyHeading",e)}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Body Font","vas-dinamico-forms"),value:t.typography.fontFamilyBody,options:C,onChange:e=>c("typography","fontFamilyBody",e)}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Font Sizes","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Base Size","vas-dinamico-forms"),value:t.typography.fontSizeBase,onChange:e=>c("typography","fontSizeBase",e),help:(0,n.__)("Recommended: 16px minimum for accessibility","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Heading 1 Size","vas-dinamico-forms"),value:t.typography.fontSizeH1,onChange:e=>c("typography","fontSizeH1",e)}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Heading 2 Size","vas-dinamico-forms"),value:t.typography.fontSizeH2,onChange:e=>c("typography","fontSizeH2",e)}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Heading 3 Size","vas-dinamico-forms"),value:t.typography.fontSizeH3,onChange:e=>c("typography","fontSizeH3",e)}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Small Text Size","vas-dinamico-forms"),value:t.typography.fontSizeSmall,onChange:e=>c("typography","fontSizeSmall",e)}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Font Weights","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Normal Weight","vas-dinamico-forms"),value:parseInt(t.typography.fontWeightNormal),onChange:e=>c("typography","fontWeightNormal",String(e)),min:100,max:900,step:100}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Medium Weight","vas-dinamico-forms"),value:parseInt(t.typography.fontWeightMedium),onChange:e=>c("typography","fontWeightMedium",String(e)),min:100,max:900,step:100}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Bold Weight","vas-dinamico-forms"),value:parseInt(t.typography.fontWeightBold),onChange:e=>c("typography","fontWeightBold",String(e)),min:100,max:900,step:100}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Line Heights","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Base Line Height","vas-dinamico-forms"),value:t.typography.lineHeightBase,onChange:e=>c("typography","lineHeightBase",e),help:(0,n.__)("Recommended: 1.6â€“1.8 for comfortable reading","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Heading Line Height","vas-dinamico-forms"),value:t.typography.lineHeightHeading,onChange:e=>c("typography","lineHeightHeading",e)})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("ðŸ“ Spacing & Layout","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Control spacing for participant comfort and visual hierarchy.","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Container Padding","vas-dinamico-forms"),value:parseFloat(t.spacing.containerPadding),onChange:e=>c("spacing","containerPadding",`${e}rem`),min:0,max:5,step:.25,help:(0,n.__)("Breathing room around form content","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Field Gap","vas-dinamico-forms"),value:parseFloat(t.spacing.fieldGap),onChange:e=>c("spacing","fieldGap",`${e}rem`),min:.5,max:4,step:.25,help:(0,n.__)("Vertical spacing between form fields","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Section Gap","vas-dinamico-forms"),value:parseFloat(t.spacing.sectionGap),onChange:e=>c("spacing","sectionGap",`${e}rem`),min:1,max:5,step:.25,help:(0,n.__)("Spacing between major form sections","vas-dinamico-forms")}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Spacing Scale","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Extra Small","vas-dinamico-forms"),value:parseFloat(t.spacing.xs),onChange:e=>c("spacing","xs",`${e}rem`),min:.25,max:2,step:.25}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Small","vas-dinamico-forms"),value:parseFloat(t.spacing.sm),onChange:e=>c("spacing","sm",`${e}rem`),min:.5,max:3,step:.25}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Medium","vas-dinamico-forms"),value:parseFloat(t.spacing.md),onChange:e=>c("spacing","md",`${e}rem`),min:1,max:4,step:.25}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Large","vas-dinamico-forms"),value:parseFloat(t.spacing.lg),onChange:e=>c("spacing","lg",`${e}rem`),min:1.5,max:5,step:.25}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Extra Large","vas-dinamico-forms"),value:parseFloat(t.spacing.xl),onChange:e=>c("spacing","xl",`${e}rem`),min:2,max:6,step:.25})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("ðŸ”² Borders & Radius","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Configure border styles and corner radius for clinical aesthetics.","vas-dinamico-forms")}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Border Radius","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Small Radius","vas-dinamico-forms"),value:parseInt(t.borders.radiusSm),onChange:e=>c("borders","radiusSm",`${e}px`),min:0,max:20,step:1,help:(0,n.__)("Used for small elements","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Medium Radius","vas-dinamico-forms"),value:parseInt(t.borders.radiusMd),onChange:e=>c("borders","radiusMd",`${e}px`),min:0,max:30,step:1,help:(0,n.__)("Used for inputs and buttons","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Large Radius","vas-dinamico-forms"),value:parseInt(t.borders.radiusLg),onChange:e=>c("borders","radiusLg",`${e}px`),min:0,max:40,step:1,help:(0,n.__)("Used for containers and sections","vas-dinamico-forms")}),(0,p.jsx)("h4",{className:"eipsi-section-title",children:(0,n.__)("Border Width & Style","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Border Width","vas-dinamico-forms"),value:parseInt(t.borders.width),onChange:e=>c("borders","width",`${e}px`),min:0,max:10,step:1}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Focus Border Width","vas-dinamico-forms"),value:parseInt(t.borders.widthFocus),onChange:e=>c("borders","widthFocus",`${e}px`),min:0,max:10,step:1,help:(0,n.__)("Thicker border for focused elements","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Border Style","vas-dinamico-forms"),value:t.borders.style,options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"None",value:"none"}],onChange:e=>c("borders","style",e)})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("âœ¨ Shadows & Effects","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Add depth and visual feedback with shadows.","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Small Shadow","vas-dinamico-forms"),value:t.shadows.sm,onChange:e=>c("shadows","sm",e),help:(0,n.__)("Subtle elevation for small elements","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Medium Shadow","vas-dinamico-forms"),value:t.shadows.md,onChange:e=>c("shadows","md",e),help:(0,n.__)("Standard card depth","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Large Shadow","vas-dinamico-forms"),value:t.shadows.lg,onChange:e=>c("shadows","lg",e),help:(0,n.__)("Prominent elevation","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Focus Shadow","vas-dinamico-forms"),value:t.shadows.focus,onChange:e=>c("shadows","focus",e),help:(0,n.__)("Ring effect for focused elements","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("âš¡ Hover & Interaction","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"eipsi-panel-description",children:(0,n.__)("Configure animation and interaction feedback.","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Transition Duration","vas-dinamico-forms"),value:t.interactivity.transitionDuration,onChange:e=>c("interactivity","transitionDuration",e),help:(0,n.__)("E.g., 0.2s or 200ms","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Transition Timing","vas-dinamico-forms"),value:t.interactivity.transitionTiming,options:[{label:"Linear",value:"linear"},{label:"Ease",value:"ease"},{label:"Ease In",value:"ease-in"},{label:"Ease Out",value:"ease-out"},{label:"Ease In Out",value:"ease-in-out"}],onChange:e=>c("interactivity","transitionTiming",e)}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Hover Scale","vas-dinamico-forms"),value:t.interactivity.hoverScale,onChange:e=>c("interactivity","hoverScale",e),help:(0,n.__)("E.g., 1.02 for slight growth on hover","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Focus Outline Width","vas-dinamico-forms"),value:parseInt(t.interactivity.focusOutlineWidth),onChange:e=>c("interactivity","focusOutlineWidth",`${e}px`),min:0,max:10,step:1,help:(0,n.__)("Recommended: 2â€“3px for accessibility","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Focus Outline Offset","vas-dinamico-forms"),value:parseInt(t.interactivity.focusOutlineOffset),onChange:e=>c("interactivity","focusOutlineOffset",`${e}px`),min:0,max:10,step:1})]})]})},j=({isOpen:e,onClose:a,containerClientId:i})=>{const{mapData:s}=(0,l.useSelect)(e=>{if(!i)return{mapData:[]};const{getBlock:a}=e("core/block-editor"),s=a(i);return s&&s.innerBlocks?{mapData:s.innerBlocks.filter(e=>"vas-dinamico/form-page"===e.name).map((e,a)=>{const i=a+1,s=e.attributes.title||`${(0,n.__)("PÃ¡gina","vas-dinamico-forms")} ${i}`,o=[],r=e=>{e.forEach(e=>{const{attributes:a,name:i}=e;if(a.conditionalLogic){const s=(e=>e?Array.isArray(e)?{enabled:e.length>0,rules:e,defaultAction:"nextPage"}:"object"==typeof e&&void 0!==e.enabled?e:null:null)(a.conditionalLogic);s&&s.enabled&&s.rules.length>0&&o.push({blockName:i,label:a.label||a.fieldName||(0,n.__)("Campo sin nombre","vas-dinamico-forms"),logic:s,clientId:e.clientId})}e.innerBlocks&&e.innerBlocks.length>0&&r(e.innerBlocks)})};return r(e.innerBlocks||[]),{pageNumber:i,pageTitle:s,fields:o}}).filter(e=>e.fields.length>0)}:{mapData:[]}},[i]);if(!e)return null;const o=e=>{if(e.conditions&&Array.isArray(e.conditions)){const a=[];return e.conditions.forEach((e,i)=>{let s="";const o=e.fieldLabel||e.fieldId||(0,n.__)("Campo","vas-dinamico-forms");if(s="numeric"===e.fieldType&&e.operator&&void 0!==e.threshold?`[${o}] ${"=="===e.operator?"=":e.operator} ${e.threshold}`:void 0!==e.value?`[${o}] = "${e.value}"`:`[${o}]`,i>0){const i="OR"===(e.logicalOperator||"AND")?(0,n.__)("O","vas-dinamico-forms"):(0,n.__)("Y","vas-dinamico-forms");a.push(` ${i} `)}a.push(s)}),a.join("")}return e.operator&&void 0!==e.threshold?`${"=="===e.operator?"=":e.operator} ${e.threshold}`:void 0!==e.matchValue?`= "${e.matchValue}"`:(0,n.__)("CondiciÃ³n no definida","vas-dinamico-forms")},t=e=>{switch(e.action){case"nextPage":return(0,n.__)("Siguiente pÃ¡gina","vas-dinamico-forms");case"submit":return(0,n.__)("Finalizar formulario","vas-dinamico-forms");case"goToPage":return`${(0,n.__)("Ir a pÃ¡gina","vas-dinamico-forms")} ${e.targetPage}`;default:return(0,n.__)("AcciÃ³n desconocida","vas-dinamico-forms")}};return e?(0,p.jsxs)(r.Modal,{title:(0,n.__)("Mapa de lÃ³gica condicional","vas-dinamico-forms"),onRequestClose:a,className:"conditional-logic-map-modal",style:{maxWidth:"800px",width:"90vw"},children:[(0,p.jsx)("div",{className:"conditional-logic-map-content",children:0===s.length?(0,p.jsx)("div",{className:"conditional-logic-map-empty",children:(0,p.jsx)("p",{children:(0,n.__)("No hay reglas de lÃ³gica condicional configuradas en este formulario.","vas-dinamico-forms")})}):s.map(e=>(0,p.jsxs)("div",{className:"logic-map-page",children:[(0,p.jsx)("h3",{className:"logic-map-page-title",children:e.pageTitle}),e.fields.map((e,a)=>(0,p.jsxs)("div",{className:"logic-map-field",children:[(0,p.jsx)("h4",{className:"logic-map-field-label",children:e.label}),(0,p.jsx)("ul",{className:"logic-map-rules",children:e.logic.rules.map((e,a)=>{const i=(e=>{if(!e.conditions||e.conditions.length<2)return null;const a=e.conditions.map((e,a)=>0===a?null:e.logicalOperator||"AND").filter(Boolean),i=a.some(e=>"OR"===e),s=a.some(e=>"OR"!==e);return i&&s?{label:(0,n.__)("AND/OR combinados","vas-dinamico-forms"),type:"mixed"}:i?{label:(0,n.__)("O","vas-dinamico-forms"),type:"or"}:{label:(0,n.__)("Y","vas-dinamico-forms"),type:"and"}})(e);return(0,p.jsxs)("li",{className:"logic-map-rule",children:[(0,p.jsxs)("span",{className:"logic-map-rule-condition",children:[(0,p.jsx)("strong",{children:(0,n.__)("SI","vas-dinamico-forms")})," ",o(e)]}),i&&(0,p.jsx)("span",{className:`logic-map-operator-badge logic-map-operator-badge--${i.type}`,children:i.label}),(0,p.jsx)("span",{className:"logic-map-rule-arrow",children:"â†’"})," ",(0,p.jsx)("span",{className:"logic-map-rule-action",children:t(e)})]},a)})}),e.logic.defaultAction&&"nextPage"!==e.logic.defaultAction&&(0,p.jsxs)("div",{className:"logic-map-default-action",children:[(0,p.jsx)("span",{className:"logic-map-rule-condition",children:(0,p.jsx)("strong",{children:(0,n.__)("Para otros valores","vas-dinamico-forms")})})," ",(0,p.jsx)("span",{className:"logic-map-rule-arrow",children:"â†’"})," ",(0,p.jsx)("span",{className:"logic-map-rule-action",children:t({action:e.logic.defaultAction,targetPage:e.logic.defaultTargetPage})})]})]},a))]},e.pageNumber))}),(0,p.jsx)("div",{className:"conditional-logic-map-footer",children:(0,p.jsx)(r.Button,{isPrimary:!0,onClick:a,children:(0,n.__)("Cerrar","vas-dinamico-forms")})})]}):null};(0,s.registerBlockType)("vas-dinamico/form-container",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{formId:t,submitButtonLabel:c,description:d,styleConfig:u,presetName:h,allowBackwardsNav:x,showProgressBar:v,studyStatus:b,useCustomCompletion:y,completionTitle:N,completionMessage:C,completionLogoId:B,completionLogoUrl:S,completionButtonLabel:k}=e,w="boolean"!=typeof x||x,T="boolean"!=typeof v||v,I="closed"==("closed"===b?"closed":"open"),F="boolean"==typeof y&&y,[P,A]=(0,m.useState)(!1),[$,O]=(0,m.useState)(""),[z,q]=(0,m.useState)(!1),{replaceInnerBlocks:L}=(0,l.useDispatch)(o.store);(0,m.useEffect)(()=>{const i={};if(u||(i.styleConfig=f(e)),h||(i.presetName="Clinical Blue"),"boolean"!=typeof y){const e=N&&"Â¡Gracias por completar el cuestionario!"!==N||C&&"Sus respuestas han sido registradas correctamente."!==C||k&&"Comenzar de nuevo"!==k||!!S;i.useCustomCompletion=e}Object.keys(i).length&&a(i)},[]);const M=u||f(e),R=g(M),H=(0,o.useBlockProps)({className:"eipsi-form-container-editor",style:R}),E=(0,o.useInnerBlocksProps)({className:"eipsi-form-inner-blocks"},{allowedBlocks:["vas-dinamico/form-page","vas-dinamico/consent-block","vas-dinamico/campo-texto","vas-dinamico/campo-textarea","vas-dinamico/campo-descripcion","vas-dinamico/campo-select","vas-dinamico/campo-radio","vas-dinamico/campo-multiple","vas-dinamico/campo-likert","vas-dinamico/vas-slider"],templateLock:!1,renderAppender:o.InnerBlocks.ButtonBlockAppender}),V=(0,l.useSelect)(e=>e(o.store).getBlocks(i),[i]),D=V&&V.length>0,W=window?.EIPSIDemoTemplates||{},G=W.templates||[],U=W.strings||{},[Z,J]=(0,m.useState)(null),K=[{label:U.selectPlaceholder||(0,n.__)("ElegÃ­ una plantilla","vas-dinamico-forms"),value:""},...G.map(e=>({label:`${e.icon||""} ${e.name}`.trim(),value:e.id}))],Y=G.find(e=>e.id===$);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Plantillas EIPSI","vas-dinamico-forms"),initialOpen:!1,children:[Z&&(0,p.jsx)(r.Notice,{status:Z.status,onRemove:()=>J(null),isDismissible:!0,style:{marginBottom:"16px"},children:Z.message}),0===G.length&&(0,p.jsx)(r.Notice,{status:"info",isDismissible:!1,children:U.empty||(0,n.__)("PrÃ³ximamente agregaremos mÃ¡s demos pensados para tu consultorio.","vas-dinamico-forms")}),G.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{style:{fontSize:"13px",color:"#475467",marginBottom:"12px"},children:(0,n.__)("Estas plantillas son demos genÃ©ricos con bloques EIPSI reales. No son escalas clÃ­nicas oficiales.","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:U.selectLabel||(0,n.__)("Plantillas EIPSI (demo)","vas-dinamico-forms"),value:$,options:K,onChange:e=>O(e)}),Y&&(0,p.jsx)("div",{style:{marginTop:"8px",padding:"8px",background:"#f8f9fb",borderRadius:"4px",fontSize:"12px",color:"#646970"},children:Y.description}),$&&(0,p.jsx)(r.Button,{variant:"primary",onClick:()=>{if(!$)return;if(D&&!window.confirm(U.confirmReplace||(0,n.__)("Esto reemplazarÃ¡ el contenido actual del formulario. Â¿Continuar?","vas-dinamico-forms")))return;q(!0),J(null);const e=Y;if(!e||!e.content)return q(!1),void J({status:"error",message:(0,n.__)("No pudimos cargar la plantilla seleccionada.","vas-dinamico-forms")});try{const o=(0,s.parse)(e.content);if(!o||0===o.length||"vas-dinamico/form-container"!==o[0].name)throw new Error("Invalid template structure");const r=o[0],l=r.innerBlocks||[],t=r.attributes||{},c={};["formId","submitButtonLabel","description","presetName","allowBackwardsNav","showProgressBar","studyStatus","useCustomCompletion","completionTitle","completionMessage","completionButtonLabel","styleConfig"].forEach(e=>{Object.prototype.hasOwnProperty.call(t,e)&&(c[e]=t[e])}),Object.keys(c).length>0&&a(c),L(i,l,!1),O(""),J({status:"success",message:U.success||(0,n.__)("Plantilla aplicada correctamente.","vas-dinamico-forms")})}catch(e){console.error("Error applying template:",e),J({status:"error",message:(0,n.__)("No pudimos aplicar la plantilla. IntentÃ¡ nuevamente.","vas-dinamico-forms")})}finally{q(!1)}},isBusy:z,disabled:z,style:{marginTop:"12px",width:"100%"},children:U.apply||(0,n.__)("Aplicar plantilla","vas-dinamico-forms")})]})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Form Settings","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Form ID/Slug","vas-dinamico-forms"),value:t,onChange:e=>a({formId:e}),help:(0,n.__)("Enter a unique identifier for the form (e.g., contact-form)","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Submit Button Label","vas-dinamico-forms"),value:c,onChange:e=>a({submitButtonLabel:e})}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Description (Optional)","vas-dinamico-forms"),value:d,onChange:e=>a({description:e}),help:(0,n.__)("Optional description text shown above the form","vas-dinamico-forms")}),(0,p.jsx)(r.Notice,{status:I?"warning":"success",isDismissible:!1,style:{marginTop:"12px"},children:I?(0,n.__)("ðŸ”´ Cerrado: este estudio no acepta nuevas respuestas.","vas-dinamico-forms"):(0,n.__)("ðŸŸ¢ Abierto: este estudio acepta respuestas normalmente.","vas-dinamico-forms")}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Estado del estudio","vas-dinamico-forms"),checked:I,onChange:e=>a({studyStatus:e?"closed":"open"}),help:I?(0,n.__)("Para volver a recolectar datos, cambialo a Abierto.","vas-dinamico-forms"):(0,n.__)("Si lo cerrÃ¡s, el formulario se oculta y muestra un aviso en el frontend.","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Navigation Settings","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)(r.ToggleControl,{label:(0,n.__)('Mostrar botÃ³n "Anterior"',"vas-dinamico-forms"),checked:w,onChange:e=>a({allowBackwardsNav:!!e}),help:(0,n.__)('Permite al paciente volver a la pÃ¡gina anterior. Si estÃ¡ desactivado, el botÃ³n "Anterior" no aparecerÃ¡ nunca.',"vas-dinamico-forms")}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Mostrar barra de progreso","vas-dinamico-forms"),checked:T,onChange:e=>a({showProgressBar:!!e}),help:(0,n.__)('Muestra "PÃ¡gina X de Y" en la parte inferior del formulario. Ãštil en formularios con mÃºltiples pÃ¡ginas.',"vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Completion Page","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Personalizar pÃ¡gina de finalizaciÃ³n","vas-dinamico-forms"),checked:F,onChange:e=>a({useCustomCompletion:!!e}),help:(0,n.__)("Si estÃ¡ desactivado, se usarÃ¡ la configuraciÃ³n global de FinalizaciÃ³n (Results & Experience â†’ FinalizaciÃ³n). Si estÃ¡ activado, podrÃ¡s personalizar el mensaje de finalizaciÃ³n solo para este formulario.","vas-dinamico-forms")}),!F&&(0,p.jsx)("p",{style:{marginTop:"12px",fontSize:"13px",color:"#475467",background:"#f8f9fb",padding:"12px",borderRadius:"6px"},children:(0,n.__)("Este formulario usarÃ¡ el mensaje global configurado en Results & Experience â†’ FinalizaciÃ³n.","vas-dinamico-forms")}),F&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("TÃ­tulo de finalizaciÃ³n","vas-dinamico-forms"),value:N,onChange:e=>a({completionTitle:e}),help:(0,n.__)("TÃ­tulo que se muestra al completar el formulario","vas-dinamico-forms")}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Mensaje de finalizaciÃ³n","vas-dinamico-forms"),value:C,onChange:e=>a({completionMessage:e}),help:(0,n.__)("Mensaje que se muestra al completar el formulario","vas-dinamico-forms"),rows:4}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Texto del botÃ³n","vas-dinamico-forms"),value:k,onChange:e=>a({completionButtonLabel:e}),help:(0,n.__)('Por ejemplo: "Comenzar de nuevo" o "Volver a empezar"',"vas-dinamico-forms")}),(0,p.jsx)(o.MediaUploadCheck,{children:(0,p.jsxs)("div",{style:{marginTop:"16px"},children:[(0,p.jsx)("p",{style:{marginBottom:"8px",fontWeight:"500"},children:(0,n.__)("Logo o imagen (opcional)","vas-dinamico-forms")}),S&&(0,p.jsx)("div",{style:{marginBottom:"12px"},children:(0,p.jsx)("img",{src:S,alt:(0,n.__)("Logo del consultorio","vas-dinamico-forms"),style:{maxWidth:"200px",height:"auto",borderRadius:"8px"}})}),(0,p.jsx)(o.MediaUpload,{onSelect:e=>a({completionLogoId:e.id,completionLogoUrl:e.url}),allowedTypes:["image"],value:B,render:({open:e})=>(0,p.jsxs)("div",{children:[(0,p.jsx)(r.Button,{variant:"secondary",onClick:e,children:S?(0,n.__)("Cambiar imagen","vas-dinamico-forms"):(0,n.__)("Seleccionar imagen","vas-dinamico-forms")}),S&&(0,p.jsx)(r.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>a({completionLogoId:0,completionLogoUrl:""}),style:{marginLeft:"8px"},children:(0,n.__)("Quitar","vas-dinamico-forms")})]})}),(0,p.jsx)("p",{style:{fontSize:"12px",color:"#757575",marginTop:"8px"},children:(0,n.__)("Se mostrarÃ¡ en la parte superior de la pÃ¡gina de finalizaciÃ³n","vas-dinamico-forms")})]})})]})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Mapa de lÃ³gica condicional","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("p",{style:{fontSize:"13px",color:"#475467",marginBottom:"12px"},children:(0,n.__)("VisualizÃ¡ todas las reglas del formulario agrupadas por pÃ¡gina. Solo lectura para revisar y explicar flujos clÃ­nicos.","vas-dinamico-forms")}),(0,p.jsx)(r.Button,{variant:"secondary",onClick:()=>A(!0),children:(0,n.__)("Ver mapa de condiciones","vas-dinamico-forms")})]}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Apariencia del formulario","vas-dinamico-forms"),initialOpen:!1,children:(0,p.jsx)(_,{styleConfig:M,setStyleConfig:e=>{a({styleConfig:e})},presetName:h||"Clinical Blue",setPresetName:e=>a({presetName:e})})})]}),P&&(0,p.jsx)(j,{isOpen:P,onClose:()=>A(!1),containerClientId:i}),(0,p.jsx)("div",{...H,children:(0,p.jsxs)("div",{className:"eipsi-form-container-preview",children:[!t&&(0,p.jsx)("div",{className:"eipsi-form-placeholder",children:(0,p.jsxs)("div",{className:"components-placeholder",children:[(0,p.jsx)("div",{className:"components-placeholder__label",children:(0,n.__)("EIPSI Form Container","vas-dinamico-forms")}),(0,p.jsx)("div",{className:"components-placeholder__instructions",children:(0,n.__)("Please enter a Form ID in the block settings to get started.","vas-dinamico-forms")})]})}),t&&(0,p.jsxs)("div",{className:"eipsi-form-preview-wrapper",children:[(0,p.jsxs)("div",{className:"form-header",children:[(0,p.jsx)("h3",{className:"form-title",children:t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,p.jsx)("div",{className:"eipsi-study-status-indicator",style:{marginTop:"6px",fontSize:"12px",fontWeight:600,color:I?"var(--eipsi-color-error, #d32f2f)":"var(--eipsi-color-success, #198754)"},children:I?`ðŸ”´ ${(0,n.__)("Cerrado","vas-dinamico-forms")}`:`ðŸŸ¢ ${(0,n.__)("Abierto","vas-dinamico-forms")}`}),d&&(0,p.jsx)("p",{className:"form-description",children:d})]}),(0,p.jsx)("div",{...E}),(0,p.jsx)("div",{className:"form-footer",children:(0,p.jsx)("button",{type:"button",className:"eipsi-submit-button",disabled:!0,children:c||(0,n.__)("Submit","vas-dinamico-forms")})})]})]})})]})},save:function({attributes:e}){const{formId:a,submitButtonLabel:i,description:s,className:r,styleConfig:l,presetName:t,allowBackwardsNav:c,showProgressBar:d,studyStatus:m,useCustomCompletion:u,completionTitle:h,completionMessage:x,completionLogoUrl:v,completionButtonLabel:b}=e,_="boolean"!=typeof c||c,j="boolean"!=typeof d||d,y="closed"===m?"closed":"open",N="boolean"==typeof u&&u,C=g(l||f(e)),B=N?{"data-completion-title":h||"Â¡Gracias por completar el cuestionario!","data-completion-message":x||"Sus respuestas han sido registradas correctamente.","data-completion-logo":v||"","data-completion-button-label":b||"Comenzar de nuevo"}:{},S=o.useBlockProps.save({className:"vas-dinamico-form eipsi-form "+(r||""),style:C,"data-preset":t||"Clinical Blue","data-study-status":y,...B}),k=o.useInnerBlocksProps.save({className:"eipsi-form eipsi-form-content"});return(0,p.jsxs)("div",{...S,children:["closed"===y&&(0,p.jsx)("div",{className:"eipsi-study-closed-notice",role:"alert",children:(0,n.__)("Este estudio estÃ¡ cerrado y no acepta mÃ¡s respuestas. Contacta al investigador si tienes dudas.","vas-dinamico-forms")}),s&&(0,p.jsx)("header",{className:"eipsi-header",children:(0,p.jsx)("h2",{children:s})}),(0,p.jsxs)("form",{className:"vas-form eipsi-form-element","data-form-id":a,"data-allow-backwards-nav":_?"true":"false","data-show-progress-bar":j?"true":"false",children:[(0,p.jsx)("input",{type:"hidden",name:"form_id",value:a}),(0,p.jsx)("input",{type:"hidden",name:"form_action",value:"vas_dinamico_submit_form"}),(0,p.jsx)("input",{type:"hidden",name:"eipsi_nonce",value:""}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-device-placeholder",name:"device"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-browser-placeholder",name:"browser"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-os-placeholder",name:"os"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-screen-placeholder",name:"screen_width"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-start-time",name:"form_start_time"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-end-time",name:"form_end_time"}),(0,p.jsx)("input",{type:"hidden",className:"eipsi-current-page",name:"current_page",value:"1"}),(0,p.jsx)("div",{...k}),(0,p.jsxs)("div",{className:"form-navigation",children:[_&&(0,p.jsx)("div",{className:"form-nav-left",children:(0,p.jsx)("button",{type:"button",className:"eipsi-prev-button is-hidden","data-testid":"prev-button","aria-label":"Ir a la pÃ¡gina anterior",children:"Anterior"})}),(0,p.jsxs)("div",{className:"form-nav-right",children:[(0,p.jsx)("button",{type:"button",className:"eipsi-next-button","data-testid":"next-button","aria-label":"Ir a la siguiente pÃ¡gina",children:"Siguiente"}),(0,p.jsx)("button",{type:"submit",className:"eipsi-submit-button is-hidden","data-testid":"submit-button","aria-label":"Enviar el formulario",children:i||"Enviar"})]})]}),j&&(0,p.jsxs)("div",{className:"form-progress",children:["PÃ¡gina ",(0,p.jsx)("span",{className:"current-page",children:"1"})," de"," ",(0,p.jsx)("span",{className:"total-pages",children:"?"})]})]})]})}}),(0,s.registerBlockType)("vas-dinamico/form-page",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{title:s,pageIndex:t}=e,c=(0,l.useSelect)(e=>{const{getBlockRootClientId:a,getBlockOrder:s,getBlock:o}=e("core/block-editor"),r=a(i),n=((r?s(r):s())||[]).filter(e=>{const a=o(e);return"vas-dinamico/form-page"===a?.name}).indexOf(i);return-1===n?null:n+1},[i]);(0,m.useEffect)(()=>{c&&c!==t&&a({pageIndex:c})},[c,t,a]);const d=c||t||1,u=(0,o.useBlockProps)({className:"eipsi-page-editor"}),f=(0,o.useInnerBlocksProps)({className:"eipsi-page-content-editor"},{allowedBlocks:["core/paragraph","core/heading","core/html","core/spacer","core/separator","core/group","core/columns","core/column","core/list","core/list-item","core/image","core/buttons","core/button","vas-dinamico/consent-block","vas-dinamico/campo-texto","vas-dinamico/campo-textarea","vas-dinamico/campo-descripcion","vas-dinamico/campo-select","vas-dinamico/campo-radio","vas-dinamico/campo-multiple","vas-dinamico/campo-likert","vas-dinamico/vas-slider"],templateLock:!1,renderAppender:void 0});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.InspectorControls,{children:(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Page Settings","vas-dinamico-forms"),children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Page Title (Optional)","vas-dinamico-forms"),value:s,onChange:e=>a({title:e}),help:(0,n.__)("Enter an optional title for this page (e.g., Personal Information)","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Page Number","vas-dinamico-forms"),type:"number",value:d,help:(0,n.__)("This page number updates automatically based on block order.","vas-dinamico-forms"),disabled:!0})]})}),(0,p.jsx)("div",{...u,children:(0,p.jsxs)("div",{className:"eipsi-page-preview",children:[(0,p.jsxs)("div",{className:"page-header",children:[(0,p.jsxs)("span",{className:"page-badge",children:[(0,n.__)("Page","vas-dinamico-forms")," ",d]}),s&&(0,p.jsx)("h3",{className:"eipsi-page-title",children:s}),!s&&(0,p.jsx)("p",{className:"page-placeholder-text",children:(0,n.__)("Add a page title in the block settings (optional)","vas-dinamico-forms")})]}),(0,p.jsx)("div",{...f})]})})]})},save:function({attributes:e}){const{title:a,pageIndex:i,className:s,pageType:r,enableRestartButton:l,restartButtonLabel:t}=e,c="thank_you"===r,d=o.useBlockProps.save({className:`eipsi-page ${c?"eipsi-thank-you-page-block":""} ${s||""}`.trim(),"data-page":c?"thank-you":i,"data-page-type":c?"thank_you":"standard",style:{display:c||1!==i?"none":void 0}}),m=o.useInnerBlocksProps.save({className:"eipsi-page-content"});return(0,p.jsxs)("div",{...d,children:[a&&(0,p.jsx)("h3",{className:"eipsi-page-title",children:a}),(0,p.jsx)("div",{...m}),c&&l&&(0,p.jsx)("div",{className:"eipsi-thank-you-restart",children:(0,p.jsx)("button",{type:"button",className:"eipsi-restart-button","data-action":"restart","data-testid":"thank-you-restart-button",children:t||(0,n.__)("Comenzar de nuevo","vas-dinamico-forms")})})]})}}),(0,s.registerBlockType)("vas-dinamico/consent-block",{edit:function({attributes:e,setAttributes:a}){const{consentText:i,consentLabel:s,isRequired:l,showTimestamp:t}=e,c=(0,o.useBlockProps)({className:"eipsi-consent-block-editor"});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.InspectorControls,{children:(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Consent Settings","vas-dinamico-forms"),children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Checkbox Label","vas-dinamico-forms"),value:s,onChange:e=>a({consentLabel:e})}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Is Required","vas-dinamico-forms"),checked:l,onChange:e=>a({isRequired:e})}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Show Timestamp","vas-dinamico-forms"),checked:t,onChange:e=>a({showTimestamp:e})})]})}),(0,p.jsx)("div",{...c,children:(0,p.jsxs)("div",{className:"eipsi-consent-preview",children:[(0,p.jsx)("div",{className:"eipsi-consent-text-editor",children:(0,p.jsx)(o.RichText,{tagName:"div",multiline:"p",value:i,onChange:e=>a({consentText:e}),placeholder:(0,n.__)("Escribe aquÃ­ el texto del consentimientoâ€¦","vas-dinamico-forms")})}),(0,p.jsxs)("div",{className:"eipsi-consent-checkbox-preview",children:[(0,p.jsx)("input",{type:"checkbox",id:"consent-preview-checkbox",disabled:!0,checked:!1}),(0,p.jsx)("label",{htmlFor:"consent-preview-checkbox",children:s}),l&&(0,p.jsx)("span",{className:"required-asterisk",children:"*"})]})]})})]})},save:function({attributes:e}){const{consentText:a,consentLabel:i,isRequired:s}=e,r=o.useBlockProps.save({className:"eipsi-consent-block form-group","data-consent-block":"true","data-required":s?"true":"false"});return(0,p.jsxs)("div",{...r,children:[(0,p.jsx)("div",{className:"eipsi-consent-text",children:(0,p.jsx)(o.RichText.Content,{value:a})}),(0,p.jsxs)("div",{className:"eipsi-consent-control",children:[(0,p.jsxs)("div",{className:"eipsi-checkbox-wrapper",children:[(0,p.jsx)("input",{type:"checkbox",id:"eipsi-consent-checkbox",name:"eipsi_consent_accepted",className:"eipsi-consent-checkbox",required:s,"data-required":s?"true":"false"}),(0,p.jsxs)("label",{htmlFor:"eipsi-consent-checkbox",children:[i,s&&(0,p.jsx)("span",{className:"eipsi-required-mark",children:"*"})]})]}),(0,p.jsx)("div",{className:"form-error"})]})]})}});const y=({attributes:e,setAttributes:a,showPlaceholder:i=!0})=>{const{fieldName:s,label:o,required:l,placeholder:t,helperText:c}=e;return(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Field Name / Slug","vas-dinamico-forms"),value:s||"",onChange:e=>a({fieldName:e}),help:(0,n.__)("Used as the input name attribute (e.g., full_name)","vas-dinamico-forms")}),(0,p.jsx)("div",{style:{marginTop:"16px",marginBottom:"8px"},children:(0,p.jsx)("strong",{children:(0,n.__)("Texto que ve el paciente","vas-dinamico-forms")})}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Label (tÃ­tulo del campo)","vas-dinamico-forms"),value:o||"",onChange:e=>a({label:e}),help:(0,n.__)("Aparece en negrita sobre el campo","vas-dinamico-forms")}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("DescripciÃ³n / Helper text","vas-dinamico-forms"),value:c||"",onChange:e=>a({helperText:e}),rows:4,help:(0,n.__)("Texto de ayuda permanente que se muestra debajo del campo. Ideal para instrucciones clÃ­nicas.","vas-dinamico-forms")}),i&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginTop:"16px",marginBottom:"8px"},children:(0,p.jsx)("strong",{children:(0,n.__)("Placeholder (opcional)","vas-dinamico-forms")})}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Texto fantasma (desaparece al escribir)","vas-dinamico-forms"),value:t||"",onChange:e=>a({placeholder:e}),help:(0,n.__)('Ejemplo: "Escribe tu respuesta aquÃ­â€¦"',"vas-dinamico-forms")})]}),(0,p.jsx)("div",{style:{marginTop:"16px",marginBottom:"8px"},children:(0,p.jsx)("strong",{children:(0,n.__)("ValidaciÃ³n","vas-dinamico-forms")})}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Campo obligatorio","vas-dinamico-forms"),checked:!!l,onChange:e=>a({required:!!e}),help:(0,n.__)("Si estÃ¡ activo, el paciente debe completar este campo","vas-dinamico-forms")})]})},N=[{label:(0,n.__)("Text","vas-dinamico-forms"),value:"text"},{label:(0,n.__)("Email","vas-dinamico-forms"),value:"email"},{label:(0,n.__)("Number","vas-dinamico-forms"),value:"number"},{label:(0,n.__)("Telephone","vas-dinamico-forms"),value:"tel"},{label:(0,n.__)("URL","vas-dinamico-forms"),value:"url"},{label:(0,n.__)("Date","vas-dinamico-forms"),value:"date"}],C=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},B=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/campo-texto",{edit:function({attributes:e,setAttributes:a}){const{fieldName:i,label:s,required:l,placeholder:t,helperText:c,fieldType:d}=e,m=i&&""!==i.trim()?i.trim():void 0,u=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-text-field","data-field-name":m,"data-required":l?"true":"false","data-field-type":d||"text"}),f=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(m),g=s&&""!==s.trim()?s:(0,n.__)("Campo de texto","vas-dinamico-forms");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsx)(y,{attributes:e,setAttributes:a}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Text Field Options","vas-dinamico-forms"),initialOpen:!1,children:(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Input type","vas-dinamico-forms"),value:d,options:N,onChange:e=>a({fieldType:e})})})]}),(0,p.jsxs)("div",{...u,children:[(0,p.jsx)("label",{className:l?"required":void 0,htmlFor:f,children:g}),(0,p.jsx)("input",{type:d||"text",name:m,id:f,placeholder:t||"",required:l,"data-required":l?"true":"false","data-field-type":d||"text",disabled:!0}),C(c),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})]})},save:function({attributes:e}){const{fieldName:a,label:i,required:s,placeholder:r,helperText:n,fieldType:l}=e,t=a&&""!==a.trim()?a.trim():void 0,c=o.useBlockProps.save({className:"form-group eipsi-field eipsi-text-field","data-field-name":t,"data-required":s?"true":"false","data-field-type":l||"text"}),d=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(t),m=l||"text";return(0,p.jsxs)("div",{...c,children:[i&&(0,p.jsx)("label",{className:s?"required":void 0,htmlFor:d,children:i}),(0,p.jsx)("input",{type:m,name:t,id:d,placeholder:r||"",required:s,"data-required":s?"true":"false","data-field-type":m}),B(n),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})}});const S=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},k=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/campo-textarea",{edit:function({attributes:e,setAttributes:a}){const{fieldName:i,label:s,required:l,placeholder:t,helperText:c,rows:d}=e,m=i&&""!==i.trim()?i.trim():void 0,u=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-textarea-field","data-field-name":m,"data-required":l?"true":"false","data-field-type":"textarea"}),f=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(m),g=s||(0,n.__)("Campo textarea","vas-dinamico-forms"),h=Number(d)||4;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsx)(y,{attributes:e,setAttributes:a}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Textarea Options","vas-dinamico-forms"),initialOpen:!1,children:(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Rows","vas-dinamico-forms"),value:h,onChange:e=>a({rows:Number(e)||4}),min:2,max:12})})]}),(0,p.jsxs)("div",{...u,children:[(0,p.jsx)("label",{className:l?"required":void 0,htmlFor:f,children:g}),(0,p.jsx)("textarea",{name:m,id:f,placeholder:t||"",required:l,rows:h,"data-required":l?"true":"false","data-field-type":"textarea",disabled:!0}),S(c),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})]})},save:function({attributes:e}){const{fieldName:a,label:i,required:s,placeholder:r,helperText:n,rows:l}=e,t=a&&""!==a.trim()?a.trim():void 0,c=o.useBlockProps.save({className:"form-group eipsi-field eipsi-textarea-field","data-field-name":t,"data-required":s?"true":"false","data-field-type":"textarea"}),d=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(t),m=Number(l)||4;return(0,p.jsxs)("div",{...c,children:[i&&(0,p.jsx)("label",{className:s?"required":void 0,htmlFor:d,children:i}),(0,p.jsx)("textarea",{name:t,id:d,placeholder:r||"",required:s,rows:m,"data-required":s?"true":"false","data-field-type":"textarea"}),k(n),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})}});const w=({attributes:e,setAttributes:a})=>{const{label:i,helperText:s,placeholder:o}=e;return(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Description Settings","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)("div",{style:{marginBottom:"16px"},children:(0,p.jsx)("p",{style:{fontSize:"13px",color:"#666"},children:(0,n.__)("Este bloque es solo informativo â€” no captura respuestas del paciente.","vas-dinamico-forms")})}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("TÃ­tulo","vas-dinamico-forms"),value:i||"",onChange:e=>a({label:e}),help:(0,n.__)('Aparece en negrita (ej: "Instrucciones importantes")',"vas-dinamico-forms")}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Contenido","vas-dinamico-forms"),value:s||"",onChange:e=>a({helperText:e}),rows:6,help:(0,n.__)("Texto principal que verÃ¡ el paciente. Puedes usar saltos de lÃ­nea.","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Texto complementario (opcional)","vas-dinamico-forms"),value:o||"",onChange:e=>a({placeholder:e}),help:(0,n.__)("Aparece debajo del contenido principal en estilo discreto.","vas-dinamico-forms")})]})},T=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("div",{className:"description-body",children:a.map((e,a)=>(0,p.jsx)("p",{children:e},`${e}-${a}`))})},I=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("div",{className:"description-body",children:a.map((e,a)=>(0,p.jsx)("p",{children:e},`${e}-${a}`))})};function F(e){return e?e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"):""}function P(e){if(!e||""===e.trim())return[];const a=F(e);return a.includes(";")?a.split(";").map(e=>e.trim()).filter(e=>""!==e):a.includes("\n")?a.split("\n").map(e=>e.trim()).filter(e=>""!==e):function(e){const a=[];let i="",s=!1,o=0;for(;o<e.length;){const r=e[o],n=e[o+1];if('"'!==r){if(","===r&&!s){const e=i.trim();""!==e&&a.push(e),i="",o++;continue}i+=r,o++}else{if(s&&'"'===n){i+='"',o+=2;continue}s=!s,o++}}const r=i.trim();return""!==r&&a.push(r),a}(a)}(0,s.registerBlockType)("vas-dinamico/campo-descripcion",{edit:function({attributes:e,setAttributes:a}){const{label:i,placeholder:s,helperText:r}=e,l=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-description-field","data-field-type":"description"}),t=i||(0,n.__)("Campo descripciÃ³n","vas-dinamico-forms");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.InspectorControls,{children:(0,p.jsx)(w,{attributes:e,setAttributes:a})}),(0,p.jsxs)("div",{...l,children:[t&&(0,p.jsx)("h3",{className:"description-title",children:t}),T(r),s&&(0,p.jsx)("p",{className:"description-note",children:s})]})]})},save:function({attributes:e}){const{label:a,placeholder:i,helperText:s}=e,r=o.useBlockProps.save({className:"form-group eipsi-field eipsi-description-field","data-field-type":"description"});return(0,p.jsxs)("div",{...r,children:[a&&(0,p.jsx)("h3",{className:"description-title",children:a}),I(s),i&&(0,p.jsx)("p",{className:"description-note",children:i})]})}});const A=[{label:(0,n.__)("Y (AND)","vas-dinamico-forms"),value:"AND"},{label:(0,n.__)("O (OR)","vas-dinamico-forms"),value:"OR"}],$=[{label:(0,n.__)("Mayor o igual (â‰¥)","vas-dinamico-forms"),value:">="},{label:(0,n.__)("Menor o igual (â‰¤)","vas-dinamico-forms"),value:"<="},{label:(0,n.__)("Mayor que (>)","vas-dinamico-forms"),value:">"},{label:(0,n.__)("Menor que (<)","vas-dinamico-forms"),value:"<"},{label:(0,n.__)("Igual a (=)","vas-dinamico-forms"),value:"=="}],O={"vas-dinamico/campo-radio":{type:"discrete",getOptions:e=>P(e.options)},"vas-dinamico/campo-select":{type:"discrete",getOptions:e=>P(e.options)},"vas-dinamico/campo-multiple":{type:"discrete",getOptions:e=>P(e.options)},"vas-dinamico/campo-likert":{type:"discrete",getOptions:e=>function(e){const{minValue:a=1,maxValue:i=5,labels:s=""}=e,o=s?s.split(",").map(e=>e.trim()).filter(Boolean):[],r=[];for(let e=a;e<=i;e++){const i=o[e-a]?`${e} â€“ ${o[e-a]}`:e.toString();r.push(i)}return r}(e)},"vas-dinamico/vas-slider":{type:"numeric",getRange:e=>function(e){const a="number"==typeof e.minValue?e.minValue:0,i="number"==typeof e.maxValue?e.maxValue:a+10;return{min:a,max:i>a?i:a+10}}(e)}};function z(e={}){const{fieldName:a,fieldKey:i}=e;return a&&""!==a.trim()?a.trim():i&&""!==i.trim()?i.trim():""}function q(e){if(!e||!Array.isArray(e.innerBlocks))return[];const a=[],i=e=>{e.forEach(e=>{const s=O[e.name];if(s){const i=z(e.attributes);if(i){const o={fieldId:i,label:e.attributes.label||e.attributes.fieldName||(0,n.__)("Campo sin nombre","vas-dinamico-forms"),type:s.type};if("discrete"===s.type){const a=s.getOptions(e.attributes);o.options=a.map(e=>({label:e,value:e}))}else if("numeric"===s.type){const a=s.getRange(e.attributes);o.min=a.min,o.max=a.max}a.push(o)}}e.innerBlocks&&e.innerBlocks.length>0&&i(e.innerBlocks)})};return i(e.innerBlocks),a}function L(e,a="discrete"){var i;const s=e?.type?"numeric"===e.type:"numeric"===a;return{id:`cond-${Date.now()}-${Math.floor(1e3*Math.random())}`,fieldId:e?.fieldId||"",fieldLabel:e?.label||"",fieldType:s?"numeric":"discrete",operator:s?">=":"==",value:s?void 0:"",threshold:s?null!==(i=e?.min)&&void 0!==i?i:0:void 0,logicalOperator:"AND"}}const M=({attributes:e,setAttributes:a,clientId:i,mode:s="discrete"})=>{const{conditionalLogic:o}=e,[t,c]=(0,m.useState)({}),d=z(e),u="numeric"===s?"numeric":"discrete",f=(0,m.useMemo)(()=>function(e,a,i){if(!e)return{enabled:!1,rules:[],defaultAction:"nextPage"};const s=(e={},i=0)=>{var s,o,r,n;const l="numeric"===e.fieldType||">="===e.operator||"<="===e.operator||">"===e.operator||"<"===e.operator;return{id:e.id||`cond-${i}`,fieldId:e.fieldId||a,fieldLabel:e.fieldLabel||"",fieldType:l?"numeric":"discrete",operator:e.operator||(l?">=":"=="),value:l?void 0:null!==(s=null!==(o=e.value)&&void 0!==o?o:e.matchValue)&&void 0!==s?s:"",threshold:l?null!==(r=null!==(n=e.threshold)&&void 0!==n?n:e.value)&&void 0!==r?r:null:void 0,logicalOperator:e.logicalOperator||"AND"}},o=(e={},o=0)=>{const r={id:e.id||`rule-${o}`,action:e.action||"nextPage",targetPage:e.targetPage||null};return Array.isArray(e.conditions)&&e.conditions.length>0?{...r,conditions:e.conditions.map((e,a)=>s(e,`${o}-${a}`))}:e.operator&&void 0!==e.threshold?{...r,conditions:[s({fieldId:e.fieldId||a,fieldType:"numeric",operator:e.operator,threshold:null!==(n=null!==(l=e.threshold)&&void 0!==l?l:e.valueThreshold)&&void 0!==n?n:null},`${o}-0`)]}:void 0!==e.matchValue||void 0!==e.value?{...r,conditions:[s({fieldId:e.fieldId||a,fieldType:"discrete",operator:"==",value:null!==(t=null!==(c=e.matchValue)&&void 0!==c?c:e.value)&&void 0!==t?t:""},`${o}-0`)]}:{...r,conditions:[L(null,i)]};var n,l,t,c};if(Array.isArray(e))return{enabled:e.length>0,rules:e.map((e,a)=>o(e,a)),defaultAction:"nextPage"};if("object"==typeof e){const a=Array.isArray(e.rules)?e.rules:[];return{enabled:!1!==e.enabled,rules:a.map((e,a)=>o(e,a)),defaultAction:e.defaultAction||"nextPage",defaultTargetPage:e.defaultTargetPage||null}}return{enabled:!1,rules:[],defaultAction:"nextPage"}}(o,d,u),[o,d,u]),{pages:g,hasPages:h,availableFields:x}=(0,l.useSelect)(e=>{const{getSelectedBlock:a,getBlockParentsByBlockName:s,getBlock:o}=e("core/block-editor"),r=i?o(i):a();if(!r)return{pages:[],hasPages:!1,availableFields:[]};const n=s(r.clientId,"vas-dinamico/form-container");if(0===n.length)return{pages:[],hasPages:!1,availableFields:[]};const l=o(n[n.length-1]);if(!l||!l.innerBlocks)return{pages:[],hasPages:!1,availableFields:[]};const t=l.innerBlocks.filter(e=>"vas-dinamico/form-page"===e.name).map((e,a)=>({index:a+1,title:e.attributes.title||"",clientId:e.clientId})),c=s(r.clientId,"vas-dinamico/form-page"),d=c.length>0?c[c.length-1]:null,m=d?o(d):null;return{pages:t,hasPages:t.length>0,availableFields:q(m)}},[i]),v=(0,m.useMemo)(()=>{const e={};return x.forEach(a=>{a.fieldId&&(e[a.fieldId]=a)}),e},[x]),b=(0,m.useMemo)(()=>{const e=[{label:(0,n.__)("Selecciona un campoâ€¦","vas-dinamico-forms"),value:""}];return x.forEach(a=>{e.push({label:a.label,value:a.fieldId})}),e},[x]),_=h&&x.length>0,j=(0,m.useCallback)(e=>{const a={};e.forEach((e,i)=>{if(Array.isArray(e.conditions)&&0!==e.conditions.length){for(let s=0;s<e.conditions.length;s++){const o=e.conditions[s],r=o.fieldId?v[o.fieldId]:null;if(!r){a[i]=(0,n.__)("Selecciona un campo vÃ¡lido para esta condiciÃ³n","vas-dinamico-forms");break}if("numeric"===r.type){if(!o.operator){a[i]=(0,n.__)("EligÃ­ un operador numÃ©rico","vas-dinamico-forms");break}const e=parseFloat(o.threshold);if(Number.isNaN(e)){a[i]=(0,n.__)("IngresÃ¡ un valor numÃ©rico vÃ¡lido","vas-dinamico-forms");break}}else if(!o.value){a[i]=(0,n.__)("Selecciona el valor que dispara la condiciÃ³n","vas-dinamico-forms");break}}"goToPage"===e.action&&(!e.targetPage||e.targetPage<1)&&(a[i]=(0,n.__)("ElegÃ­ una pÃ¡gina de destino vÃ¡lida","vas-dinamico-forms"))}else a[i]=(0,n.__)("Cada regla necesita al menos una condiciÃ³n","vas-dinamico-forms")}),c(a)},[v]);(0,m.useEffect)(()=>{f.enabled&&f.rules.length>0?j(f.rules):c({})},[f.enabled,f.rules,x,g,j]);const y=(e,i)=>{const s=f.rules.map((a,s)=>s!==e?a:{...a,...i});a({conditionalLogic:{...f,rules:s}})},N=(e,i,s)=>{const o=f.rules.map((a,o)=>{if(o!==e)return a;const r=a.conditions.map((e,a)=>a!==i?e:{...e,...s});return{...a,conditions:r}});a({conditionalLogic:{...f,rules:o}})},C=(e,i=null)=>{const s={...f,defaultAction:e};"goToPage"===e&&i?s.defaultTargetPage=parseInt(i,10):delete s.defaultTargetPage,a({conditionalLogic:s})},B=()=>0===g.length?[{label:(0,n.__)("No hay pÃ¡ginas disponibles","vas-dinamico-forms"),value:"",disabled:!0}]:g.map(e=>({label:e.title?`${(0,n.__)("PÃ¡gina","vas-dinamico-forms")} ${e.index} â€“ ${e.title}`:`${(0,n.__)("PÃ¡gina","vas-dinamico-forms")} ${e.index}`,value:e.index.toString()})),S=()=>{const e=[{label:(0,n.__)("Siguiente pÃ¡gina","vas-dinamico-forms"),value:"nextPage"},{label:(0,n.__)("Finalizar formulario","vas-dinamico-forms"),value:"submit"}];return g.length>0&&e.splice(1,0,{label:(0,n.__)("Ir a pÃ¡gina especÃ­ficaâ€¦","vas-dinamico-forms"),value:"goToPage"}),e};return(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("LÃ³gica Condicional","vas-dinamico-forms"),initialOpen:!1,children:[(0,p.jsx)("div",{className:"conditional-logic-toggle-wrapper",children:(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Habilitar lÃ³gica condicional","vas-dinamico-forms"),checked:f.enabled||!1,onChange:e=>{e?a({conditionalLogic:{enabled:!0,rules:[],defaultAction:"nextPage"}}):(a({conditionalLogic:null}),c({}))},help:(0,n.__)("Configura saltos y visibilidad segÃºn las respuestas del paciente.","vas-dinamico-forms")})}),f.enabled&&(0,p.jsxs)("div",{className:"conditional-logic-panel",children:[!h&&(0,p.jsx)("div",{className:"conditional-logic-warning",children:(0,p.jsx)("p",{children:(0,n.__)("Para configurar la lÃ³gica condicional, primero agregÃ¡ pÃ¡ginas al formulario.","vas-dinamico-forms")})}),h&&0===x.length&&(0,p.jsx)("div",{className:"conditional-logic-warning",children:(0,p.jsx)("p",{children:(0,n.__)("AgregÃ¡ campos compatibles en esta pÃ¡gina (select, radio, mÃºltiple, likert o VAS) para crear reglas.","vas-dinamico-forms")})}),_&&0===f.rules.length&&(0,p.jsxs)("div",{className:"conditional-logic-empty-state",children:[(0,p.jsx)(r.Dashicon,{icon:"randomize"}),(0,p.jsx)("p",{children:(0,n.__)("CreÃ¡ reglas para saltar pÃ¡ginas, ocultar bloques o finalizar segÃºn combinaciones de respuestas en esta pÃ¡gina.","vas-dinamico-forms")})]}),f.rules.map((e,i)=>(0,p.jsxs)("div",{className:"conditional-logic-rule",children:[(0,p.jsx)("div",{className:"conditional-logic-rule-header",children:(0,p.jsxs)("h4",{children:[(0,n.__)("Regla","vas-dinamico-forms")," ",i+1]})}),e.conditions.map((e,s)=>((e,i,s)=>{const o=i.fieldId?v[i.fieldId]:null,l=o?.options||[],t=0===s?(0,n.__)("Si se cumple","vas-dinamico-forms"):(0,n.__)("Unir con","vas-dinamico-forms"),c=f.rules[e];return(0,p.jsxs)("div",{className:"conditional-logic-condition",children:[s>0&&(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Operador lÃ³gico","vas-dinamico-forms"),value:i.logicalOperator||"AND",options:A,onChange:a=>N(e,s,{logicalOperator:a})}),(0,p.jsx)(r.SelectControl,{label:t,value:i.fieldId||"",options:b,onChange:a=>((e,a,i)=>{const s=L(v[i]||null,u);N(e,a,{...s,logicalOperator:f.rules[e].conditions[a]?.logicalOperator||"AND",fieldId:i})})(e,s,a)}),o&&"discrete"===o.type&&(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Cuando el valor sea","vas-dinamico-forms"),value:i.value||"",options:[{label:(0,n.__)("Selecciona un valorâ€¦","vas-dinamico-forms"),value:""},...l],onChange:a=>N(e,s,{value:a,fieldType:"discrete"})}),o&&"numeric"===o.type&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Comparar cuando el valor sea","vas-dinamico-forms"),value:i.operator||">=",options:$,onChange:a=>N(e,s,{operator:a,fieldType:"numeric"})}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Valor umbral","vas-dinamico-forms"),type:"number",value:void 0!==i.threshold&&null!==i.threshold?String(i.threshold):"",onChange:a=>{const i=""===a||null===a?"":parseFloat(a);if(""===a||Number.isNaN(i))return void N(e,s,{threshold:""});let r=i;void 0!==o.min&&(r=Math.max(o.min,r)),void 0!==o.max&&(r=Math.min(o.max,r)),N(e,s,{threshold:r,fieldType:"numeric"})},min:o.min,max:o.max,step:"any"})]}),!o&&(0,p.jsx)("div",{className:"conditional-logic-warning",children:(0,p.jsx)("p",{children:(0,n.__)("Este campo ya no estÃ¡ disponible en la pÃ¡gina. SeleccionÃ¡ otro campo para continuar.","vas-dinamico-forms")})}),c&&c.conditions.length>1&&(0,p.jsx)(r.Button,{isLink:!0,isDestructive:!0,onClick:()=>((e,i)=>{const s=f.rules.map((a,s)=>{if(s!==e)return a;const o=a.conditions.filter((e,a)=>a!==i);return{...a,conditions:0===o.length?[L(v[d],u)]:o}});a({conditionalLogic:{...f,rules:s}})})(e,s),children:(0,n.__)("Eliminar condiciÃ³n","vas-dinamico-forms")})]},i.id||`${e}-${s}`)})(i,e,s)),e.conditions.length<3&&(0,p.jsx)(r.Button,{variant:"secondary",onClick:()=>(e=>{const i=v[d]||x[0]||null,s=f.rules.map((a,s)=>{if(s!==e)return a;const o=L(i,u);return{...a,conditions:[...a.conditions,o].slice(0,3)}});a({conditionalLogic:{...f,rules:s}})})(i),className:"conditional-logic-add-condition-button",children:(0,n.__)("+ Combinar (Y/O)","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Entonces","vas-dinamico-forms"),value:e.action||"nextPage",options:S(),onChange:a=>{"nextPage"===a?y(i,{action:"nextPage",targetPage:null}):"submit"===a?y(i,{action:"submit",targetPage:null}):"goToPage"===a&&y(i,{action:"goToPage",targetPage:e.targetPage||g[0]?.index||1})}}),"goToPage"===e.action&&(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Ir a la pÃ¡gina","vas-dinamico-forms"),value:e.targetPage?e.targetPage.toString():"",options:B(),onChange:e=>y(i,{targetPage:parseInt(e,10)})}),t[i]&&(0,p.jsxs)("div",{className:"conditional-logic-validation-error",children:[(0,p.jsx)(r.Dashicon,{icon:"warning"}),(0,p.jsx)("span",{children:t[i]})]}),(0,p.jsx)("div",{className:"conditional-logic-rule-actions",children:(0,p.jsx)(r.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const i=f.rules.filter((a,i)=>i!==e);if(0===i.length)return a({conditionalLogic:null}),void c({});a({conditionalLogic:{...f,rules:i}})})(i),children:(0,n.__)("Eliminar regla","vas-dinamico-forms")})})]},e.id||i)),_&&f.rules.length>0&&(0,p.jsxs)("div",{className:"conditional-logic-default-action",children:[(0,p.jsx)("h4",{children:(0,n.__)("AcciÃ³n predeterminada","vas-dinamico-forms")}),(0,p.jsx)("p",{children:(0,n.__)("QuÃ© ocurre cuando ninguna condiciÃ³n coincide.","vas-dinamico-forms")}),(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Para otros casos","vas-dinamico-forms"),value:"goToPage"===f.defaultAction?"goToPage":f.defaultAction||"nextPage",options:S(),onChange:e=>{"goToPage"===e?C(e,g[0]?.index||1):C(e)}}),"goToPage"===f.defaultAction&&(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Ir a la pÃ¡gina","vas-dinamico-forms"),value:f.defaultTargetPage?f.defaultTargetPage.toString():g[0]?.index.toString()||"1",options:B(),onChange:e=>C("goToPage",e)})]}),(0,p.jsx)(r.Button,{isPrimary:!0,isSmall:!0,onClick:()=>{const e=v[d]||x[0]||null,i={id:`rule-${Date.now()}`,conditions:[L(e,u)],action:"nextPage",targetPage:null},s=[...f.rules,i];a({conditionalLogic:{...f,rules:s}})},disabled:!_,className:"conditional-logic-add-rule-button",children:(0,n.__)("+ Agregar regla","vas-dinamico-forms")}),_&&(0,p.jsx)("div",{className:"conditional-logic-info",children:(0,p.jsx)("p",{children:(0,n.__)("Las reglas se evalÃºan en orden. La primera coincidencia define el camino del participante.","vas-dinamico-forms")})})]})]})},R=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},H=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/campo-select",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{fieldName:s,label:l,required:t,placeholder:c,helperText:d,options:m,conditionalLogic:u}=e,f=s&&""!==s.trim()?s.trim():void 0,g=u&&(Array.isArray(u)?u.length>0:u.enabled&&u.rules&&u.rules.length>0),h=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-select-field","data-field-name":f,"data-required":t?"true":"false","data-field-type":"select","data-conditional-logic":g?"true":void 0}),x=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(f),v=l&&""!==l.trim()?l:(0,n.__)("Campo de selecciÃ³n","vas-dinamico-forms"),b=P(m);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsx)(y,{attributes:e,setAttributes:a}),(0,p.jsx)(M,{attributes:e,setAttributes:a,options:b,clientId:i}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Select Options","vas-dinamico-forms"),initialOpen:!0,children:(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Options (separated by semicolon)","vas-dinamico-forms"),value:m||"",onChange:e=>{a({options:F(e)})},help:(0,n.__)("SeparÃ¡ las opciones con punto y coma (;). Las comas dentro de cada opciÃ³n son totalmente seguras. Formatos anteriores (lÃ­neas o comas) siguen funcionando.","vas-dinamico-forms"),placeholder:"SÃ­, absolutamente; SÃ­, pero no tan frecuente; No, no ocurre a menudo; Nunca",rows:8})})]}),(0,p.jsxs)("div",{...h,children:[(0,p.jsx)("label",{className:t?"required":void 0,htmlFor:x,children:v}),(0,p.jsxs)("select",{name:f,id:x,required:t,"data-required":t?"true":"false","data-field-type":"select",disabled:!0,children:[c&&""!==c.trim()&&(0,p.jsx)("option",{value:"",children:c}),b.length>0?b.map((e,a)=>(0,p.jsx)("option",{value:e,children:e},a)):(0,p.jsx)("option",{value:"",children:(0,n.__)("Add options in the sidebar","vas-dinamico-forms")})]}),R(d),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})]})},save:function({attributes:e}){const{fieldName:a,label:i,required:s,placeholder:r,helperText:n,options:l,conditionalLogic:t}=e,c=a&&""!==a.trim()?a.trim():void 0,d=o.useBlockProps.save({className:"form-group eipsi-field eipsi-select-field","data-field-name":c,"data-required":s?"true":"false","data-field-type":"select","data-conditional-logic":t?JSON.stringify(t):void 0}),m=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(c),u=P(l);return(0,p.jsxs)("div",{...d,children:[i&&(0,p.jsx)("label",{className:s?"required":void 0,htmlFor:m,children:i}),(0,p.jsxs)("select",{name:c,id:m,required:s,"data-required":s?"true":"false","data-field-type":"select",children:[r&&""!==r.trim()&&(0,p.jsx)("option",{value:"",disabled:!0,selected:!0,children:r}),u.map((e,a)=>(0,p.jsx)("option",{value:e,children:e},a))]}),H(n),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})}});const E=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},V=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/campo-radio",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{fieldKey:s,fieldName:l,label:t,required:c,helperText:d,options:u,conditionalLogic:f}=e;(0,m.useEffect)(()=>{if(!s){const e=`radio-${i.replace(/[^a-zA-Z0-9]/g,"")}`;a({fieldKey:e})}},[s,i,a]);const g=l&&""!==l.trim()?l.trim():s,h=f&&(Array.isArray(f)?f.length>0:f.enabled&&f.rules&&f.rules.length>0),x=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-radio-field","data-field-name":g||void 0,"data-required":c?"true":"false","data-field-type":"radio","data-conditional-logic":h?"true":void 0}),v=t&&""!==t.trim()?t:(0,n.__)("Campo de opciones","vas-dinamico-forms"),b=P(u);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsx)(y,{attributes:e,setAttributes:a,showPlaceholder:!1}),(0,p.jsx)(M,{attributes:e,setAttributes:a,options:b,clientId:i}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Radio Options","vas-dinamico-forms"),initialOpen:!0,children:(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Options (separated by semicolon)","vas-dinamico-forms"),value:u||"",onChange:e=>{a({options:F(e)})},help:(0,n.__)("SeparÃ¡ las opciones con punto y coma (;). Las comas dentro de cada opciÃ³n son totalmente seguras. Formatos anteriores (lÃ­neas o comas) siguen funcionando.","vas-dinamico-forms"),placeholder:"SÃ­, absolutamente; SÃ­, pero no tan frecuente; No, no ocurre a menudo; Nunca",rows:8})})]}),(0,p.jsx)("div",{...x,children:(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{className:c?"required":void 0,children:v}),(0,p.jsx)("ul",{className:"radio-list",children:b.length>0?b.map((e,a)=>{const i=((e,a="")=>{if(!e||""===e.trim())return;const i=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${i}-${a}`:`field-${i}`})(g,a.toString());return(0,p.jsx)("li",{children:(0,p.jsxs)("label",{htmlFor:i,className:"radio-label-wrapper",children:[(0,p.jsx)("input",{type:"radio",name:g,id:i,value:e,required:c,"data-required":c?"true":"false","data-field-type":"radio",disabled:!0}),(0,p.jsx)("span",{className:"radio-label-text",children:e})]})},a)}):(0,p.jsx)("li",{className:"empty-state",children:(0,n.__)("Add options in the sidebar","vas-dinamico-forms")})}),E(d),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})})]})},save:function({attributes:e}){const{fieldKey:a,fieldName:i,label:s,required:r,helperText:n,options:l,conditionalLogic:t}=e,c=i&&""!==i.trim()?i.trim():a,d=o.useBlockProps.save({className:"form-group eipsi-field eipsi-radio-field","data-field-name":c||void 0,"data-required":r?"true":"false","data-field-type":"radio","data-conditional-logic":t?JSON.stringify(t):void 0}),m=P(l);return(0,p.jsx)("div",{...d,children:(0,p.jsxs)("fieldset",{children:[s&&(0,p.jsx)("legend",{className:r?"required":void 0,children:s}),(0,p.jsx)("ul",{className:"radio-list",children:m.map((e,a)=>{const i=((e,a="")=>{if(!e||""===e.trim())return;const i=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${i}-${a}`:`field-${i}`})(c,a.toString());return(0,p.jsx)("li",{children:(0,p.jsxs)("label",{htmlFor:i,className:"radio-label-wrapper",children:[(0,p.jsx)("input",{type:"radio",name:c,id:i,value:e,required:r,"data-required":r?"true":"false","data-field-type":"radio"}),(0,p.jsx)("span",{className:"radio-label-text",children:e})]})},a)})}),V(n),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})})}});const D=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},W=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/campo-multiple",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{fieldName:s,label:l,required:t,helperText:c,options:d,conditionalLogic:m}=e,u=s&&""!==s.trim()?s.trim():void 0,f=m&&(Array.isArray(m)?m.length>0:m.enabled&&m.rules&&m.rules.length>0),g=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-checkbox-field","data-field-name":u,"data-required":t?"true":"false","data-field-type":"checkbox","data-conditional-logic":f?"true":void 0}),h=l&&""!==l.trim()?l:(0,n.__)("Campo de selecciÃ³n mÃºltiple","vas-dinamico-forms"),x=P(d);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsx)(y,{attributes:e,setAttributes:a,showPlaceholder:!1}),(0,p.jsx)(M,{attributes:e,setAttributes:a,options:x,clientId:i}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Checkbox Options","vas-dinamico-forms"),initialOpen:!0,children:(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Options (separated by semicolon)","vas-dinamico-forms"),value:d||"",onChange:e=>{a({options:F(e)})},help:(0,n.__)("SeparÃ¡ las opciones con punto y coma (;). Las comas dentro de cada opciÃ³n son totalmente seguras. Formatos anteriores (lÃ­neas o comas) siguen funcionando.","vas-dinamico-forms"),placeholder:"SÃ­, absolutamente; SÃ­, pero no tan frecuente; No, no ocurre a menudo; Nunca",rows:8})})]}),(0,p.jsx)("div",{...g,children:(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{className:t?"required":void 0,children:h}),(0,p.jsx)("ul",{className:"checkbox-list",children:x.length>0?x.map((e,a)=>{const i=((e,a="")=>{if(!e||""===e.trim())return;const i=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${i}-${a}`:`field-${i}`})(u,a.toString());return(0,p.jsx)("li",{children:(0,p.jsxs)("label",{htmlFor:i,className:"checkbox-label-wrapper",children:[(0,p.jsx)("input",{type:"checkbox",name:`${u}[]`,id:i,value:e,"data-required":t?"true":"false","data-field-type":"checkbox",disabled:!0}),(0,p.jsx)("span",{className:"checkbox-label-text",children:e})]})},a)}):(0,p.jsx)("li",{className:"empty-state",children:(0,n.__)("Add options in the sidebar","vas-dinamico-forms")})}),D(c),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})})]})},save:function({attributes:e}){const{fieldName:a,label:i,required:s,helperText:r,options:n,conditionalLogic:l}=e,t=a&&""!==a.trim()?a.trim():void 0,c=o.useBlockProps.save({className:"form-group eipsi-field eipsi-checkbox-field","data-field-name":t,"data-required":s?"true":"false","data-field-type":"checkbox","data-conditional-logic":l?JSON.stringify(l):void 0}),d=P(n);return(0,p.jsx)("div",{...c,children:(0,p.jsxs)("fieldset",{children:[i&&(0,p.jsx)("legend",{className:s?"required":void 0,children:i}),(0,p.jsx)("ul",{className:"checkbox-list",children:d.map((e,a)=>{const i=((e,a="")=>{if(!e||""===e.trim())return;const i=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${i}-${a}`:`field-${i}`})(t,a.toString());return(0,p.jsx)("li",{children:(0,p.jsxs)("label",{htmlFor:i,className:"checkbox-label-wrapper",children:[(0,p.jsx)("input",{type:"checkbox",name:`${t}[]`,id:i,value:e,"data-required":s?"true":"false","data-field-type":"checkbox"}),(0,p.jsx)("span",{className:"checkbox-label-text",children:e})]})},a)})}),W(r),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})})}});const G=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},U=e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`},Z=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},J=e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`};(0,s.registerBlockType)("vas-dinamico/campo-likert",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{fieldKey:s,fieldName:l,label:t,required:c,helperText:d,minValue:u,maxValue:f,labels:g,conditionalLogic:h}=e;(0,m.useEffect)(()=>{if(!s){const e=`likert-${i.replace(/[^a-zA-Z0-9]/g,"")}`;a({fieldKey:e})}},[s,i,a]);const x=l&&""!==l.trim()?l.trim():s,v=h&&(Array.isArray(h)?h.length>0:h.enabled&&h.rules&&h.rules.length>0),b=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-likert-field","data-field-name":x,"data-required":c?"true":"false","data-field-type":"likert","data-min":u,"data-max":f,"data-conditional-logic":v?"true":void 0}),_=t&&""!==t.trim()?t:(0,n.__)("Escala Likert","vas-dinamico-forms"),j=g?P(g):[],y=[];for(let e=u;e<=f;e++)y.push(e);const N=j.length>0&&j.length!==y.length,C=y.map((e,a)=>{const i=e.toString();return{label:j[a]?`${i} â€“ ${j[a]}`:i,value:i}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Field Name / Slug","vas-dinamico-forms"),value:l||"",onChange:e=>a({fieldName:e}),help:(0,n.__)("Used as the input name attribute (e.g., satisfaction)","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Label","vas-dinamico-forms"),value:t||"",onChange:e=>a({label:e})}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Required field","vas-dinamico-forms"),checked:!!c,onChange:e=>a({required:!!e})}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Helper text","vas-dinamico-forms"),value:d||"",onChange:e=>a({helperText:e}),help:(0,n.__)("Displayed below the field to provide additional guidance.","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Likert Scale Options","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Minimum Value","vas-dinamico-forms"),value:u,onChange:e=>{e<f&&a({minValue:e})},min:0,max:10,help:(0,n.__)("The lowest value in the scale","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Maximum Value","vas-dinamico-forms"),value:f,onChange:e=>{e>u&&a({maxValue:e})},min:1,max:10,help:(0,n.__)("The highest value in the scale","vas-dinamico-forms")}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Labels (separated by semicolon)","vas-dinamico-forms"),value:g||"",onChange:e=>a({labels:F(e)}),help:(0,n.__)("Etiquetas opcionales para cada punto de la escala (deben coincidir con la cantidad de puntos). SeparÃ¡ con punto y coma (;). Formatos anteriores (lÃ­neas o comas) siguen funcionando.","vas-dinamico-forms"),placeholder:"Nada; Poco; Moderado; Bastante; Mucho"}),N&&(0,p.jsx)(r.Notice,{status:"warning",isDismissible:!1,children:
// translators: %1$d: number of labels, %2$d: number of scale points
// translators: %1$d: number of labels, %2$d: number of scale points
(0,n.__)("You have %1$d labels but %2$d scale points. Labels will be ignored if count doesn't match.","vas-dinamico-forms").replace("%1$d",j.length).replace("%2$d",y.length)})]}),(0,p.jsx)(M,{attributes:e,setAttributes:a,options:C,clientId:i})]}),(0,p.jsxs)("div",{...b,children:[t&&(0,p.jsx)("label",{htmlFor:x?`${U(x)}-label`:void 0,className:c?"required":void 0,children:_}),(0,p.jsx)("div",{className:"likert-scale likert-preview","data-scale":`${u}-${f}`,children:(0,p.jsx)("ul",{className:"likert-list",children:y.map((e,a)=>{const i=`${U(x)}-${e}`,s=j[a]||e.toString();return(0,p.jsx)("li",{className:"likert-item",children:(0,p.jsxs)("label",{htmlFor:i,className:"likert-label-wrapper",children:[(0,p.jsx)("input",{type:"radio",name:x,id:i,value:e,required:c,"data-required":c?"true":"false",disabled:!0}),(0,p.jsx)("span",{className:"likert-label-text",children:s})]})},e)})})}),G(d),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})]})},save:function({attributes:e}){const{fieldKey:a,fieldName:i,label:s,required:r,helperText:n,minValue:l,maxValue:t,labels:c,conditionalLogic:d}=e,m=i&&""!==i.trim()?i.trim():a,u={className:"form-group eipsi-field eipsi-likert-field","data-field-name":m,"data-required":r?"true":"false","data-field-type":"likert","data-min":l,"data-max":t};d&&d.enabled&&d.rules&&d.rules.length>0&&(u["data-conditional-logic"]=JSON.stringify(d));const f=o.useBlockProps.save(u),g=c?P(c):[],h=[];for(let e=l;e<=t;e++)h.push(e);return(0,p.jsxs)("div",{...f,children:[s&&(0,p.jsx)("label",{htmlFor:m?`${J(m)}-label`:void 0,className:r?"required":void 0,children:s}),(0,p.jsx)("div",{className:"likert-scale","data-scale":`${l}-${t}`,children:(0,p.jsx)("ul",{className:"likert-list",children:h.map((e,a)=>{const i=`${J(m)}-${e}`,s=g[a]||e.toString();return(0,p.jsx)("li",{className:"likert-item",children:(0,p.jsxs)("label",{htmlFor:i,className:"likert-label-wrapper",children:[(0,p.jsx)("input",{type:"radio",name:m,id:i,value:e,required:r,"data-required":r?"true":"false"}),(0,p.jsx)("span",{className:"likert-label-text",children:s})]})},e)})})}),Z(n),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})}});function K(e){const a=function(e,a=40){if("number"!=typeof e||Number.isNaN(e))return a;let i=e;return i>80&&(i=i/100*80),Math.min(Math.max(i,0),80)}(e);return Math.round(a/80*100)}const Y={3:{100:[3,50,88],50:[20,50,70],0:[25,50,75]},4:{100:[3,30,70,88],50:[15,35,65,80],0:[25,37.5,62.5,75]},5:{100:[5,25,50,75,90],50:[15,28,50,70,80],0:[25,37.5,50,62.5,75]}};function X(e,a,i){const s=function(e,a,i){if(1===a)return 50;if(2===a){const a=10+15*(1-i/100);return[a,100-a][e]}if(a>=3&&a<=5){const s=Y[a];let o=0,r=100,n=s[0]||s[Object.keys(s)[0]],l=s[100];i<=50?(o=0,r=50,n=s[0]||function(e){const a=[];for(let i=0;i<e;i++){const s=i/(e-1);a.push(25+37.5*s)}return a}(a),l=s[50]):(o=50,r=100,n=s[50],l=s[100]);const t=(i-o)/(r-o);return n[e]+(l[e]-n[e])*t}const s=5+20*(1-i/100);return s+e/(a-1)*(100-1.5*s-s)}(e,a,i),o=function(e,a){return 0===e?"translateX(-100%)":a>0&&e===a-1?"translateX(50%)":"translateX(-50%)"}(e,a),r=function(e,a){return 0===e?"left":a>0&&e===a-1?"right":"center"}(e,a);return{left:`${Math.round(s)}%`,transform:o,textAlign:r}}const Q=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})},ee=(e,a=0)=>"number"!=typeof e||Number.isNaN(e)?a:e,ae=(e,a,i)=>"number"!=typeof e||Number.isNaN(e)?(a+i)/2:i<=a?a:Math.min(Math.max(e,a),i),ie=e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,p.jsx)("p",{className:"field-helper",children:a.map((e,i)=>(0,p.jsxs)("span",{children:[e,i<a.length-1&&(0,p.jsx)("br",{})]},i))})};(0,s.registerBlockType)("vas-dinamico/vas-slider",{edit:function({attributes:e,setAttributes:a,clientId:i}){const{fieldName:s,label:l,required:t,helperText:c,labels:d,minValue:u,maxValue:f,step:g,initialValue:h,showValue:x,labelFontSize:v,valueFontSize:b,boldLabels:_,showCurrentValue:j,valuePosition:y,labelAlignment:N}=e,C=s&&""!==s.trim()?s.trim():void 0,B=(0,o.useBlockProps)({className:"form-group eipsi-field eipsi-vas-slider-field"+("below"===y?" vas-value-below":""),"data-field-name":C,"data-required":t?"true":"false","data-field-type":"vas-slider","data-value-position":y||"above"}),S=l&&""!==l.trim()?l:(0,n.__)("VAS Slider","vas-dinamico-forms"),k=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(C),w=g&&g>0?g:1,T=ee(u,0),I=ee(f,T+w),A=I>T?I:T+w,[$,O]=(0,m.useState)(ae(ee(h,T),T,A));(0,m.useEffect)(()=>{const e=ee(h,T),i=ae(e,T,A);i!==h&&a({initialValue:i})},[h,T,A,a]),(0,m.useEffect)(()=>{const e=ee(h,T),a=ae(e,T,A);a!==$&&O(a)},[h,T,A,$]);const z=d?P(d):[],q=z.length>0?z:[`${T}`,`${A}`],L=void 0!==j?j:!1!==x,R=L&&k?`${k}-value`:void 0,H=(0,n.__)("Debe ser menor que el mÃ¡ximo. Si lo igualÃ¡s o superÃ¡s, ajustamos el rango automÃ¡ticamente.","vas-dinamico-forms"),E=(0,n.__)("Debe ser mayor que el mÃ­nimo. Si lo igualÃ¡s o bajÃ¡s demasiado, movemos el mÃ­nimo para mantener el slider usable.","vas-dinamico-forms");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.InspectorControls,{children:[(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.TextControl,{label:(0,n.__)("Field Name / Slug","vas-dinamico-forms"),value:s||"",onChange:e=>a({fieldName:e}),help:(0,n.__)("Used as the input name attribute (e.g., pain_level)","vas-dinamico-forms")}),(0,p.jsx)(r.TextControl,{label:(0,n.__)("Label","vas-dinamico-forms"),value:l||"",onChange:e=>a({label:e})}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Required field","vas-dinamico-forms"),checked:!!t,onChange:e=>a({required:!!e})}),(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Helper text","vas-dinamico-forms"),value:c||"",onChange:e=>a({helperText:e}),help:(0,n.__)("Displayed below the field to provide additional guidance.","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("VAS Slider Options","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsx)(r.TextareaControl,{label:(0,n.__)("Labels (separated by semicolon)","vas-dinamico-forms"),value:d||"",onChange:e=>a({labels:F(e)}),help:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("strong",{children:(0,n.__)("IngresÃ¡ los labels separados por punto y coma (;)","vas-dinamico-forms")}),(0,p.jsx)("br",{}),(0,n.__)("Ejemplo: Nada; Poco; Bastante; Mucho; Extremadamente intenso","vas-dinamico-forms"),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,n.__)("Â¿QuerÃ©s que un label ocupe dos lÃ­neas? PresionÃ¡ Shift+Enter dentro del label para dividir.","vas-dinamico-forms"),(0,p.jsx)("br",{}),(0,n.__)("Los saltos de lÃ­nea se respetan exactamente como los escribas.","vas-dinamico-forms")]})}),(0,p.jsx)(r.__experimentalNumberControl,{label:(0,n.__)("Minimum Value","vas-dinamico-forms"),value:u,onChange:e=>{const i=parseFloat(e);if(Number.isNaN(i))return;let s="number"!=typeof f||Number.isNaN(f)?i+w:f;i>=s&&(s=i+w);const o=ae(ee(h,i),i,s),r=ae($,i,s);a({minValue:i,maxValue:s,initialValue:o}),O(r)},min:-1e3,max:1e3,step:"any",help:H}),(0,p.jsx)(r.__experimentalNumberControl,{label:(0,n.__)("Maximum Value","vas-dinamico-forms"),value:f,onChange:e=>{const i=parseFloat(e);if(Number.isNaN(i))return;let s="number"!=typeof u||Number.isNaN(u)?i-w:u;i<=s&&(s=i-w);const o=ae(ee(h,s),s,i),r=ae($,s,i);a({minValue:s,maxValue:i,initialValue:o}),O(r)},min:-1e3,max:1e3,step:"any",help:E}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Step","vas-dinamico-forms"),value:g&&g>0?g:1,onChange:e=>{const i="number"==typeof e?e:parseFloat(e);Number.isNaN(i)||a({step:parseFloat((i>0?i:.1).toFixed(2))})},min:.1,max:10,step:.1,help:(0,n.__)("Increment for each slider movement","vas-dinamico-forms")}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Initial Value","vas-dinamico-forms"),value:"number"==typeof h?h:T,onChange:e=>{a({initialValue:e}),O(e)},min:T,max:A,step:w,help:(0,n.__)("Default slider position","vas-dinamico-forms")})]}),(0,p.jsxs)(r.PanelBody,{title:(0,n.__)("Appearance","vas-dinamico-forms"),initialOpen:!0,children:[(0,p.jsxs)("div",{className:"eipsi-panel-section",children:[(0,p.jsx)("h3",{style:{fontSize:"13px",fontWeight:600,marginBottom:"12px"},children:(0,n.__)("Label Appearance","vas-dinamico-forms")}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Bold labels","vas-dinamico-forms"),checked:!1!==_,onChange:e=>a({boldLabels:!!e}),help:(0,n.__)("Make label text bold","vas-dinamico-forms")}),(0,p.jsx)(r.__experimentalUnitControl,{label:(0,n.__)("Label size","vas-dinamico-forms"),value:`${v||16}px`,onChange:e=>{const i=parseInt(e,10)||16;a({labelFontSize:i})},min:12,max:36,step:1,units:[{value:"px",label:"px",default:16}],isUnitSelectTabbable:!1}),(0,p.jsx)(r.RangeControl,{label:(0,n.__)("Label Alignment","vas-dinamico-forms"),value:K(N),onChange:e=>{const i=function(e){if("number"!=typeof e||Number.isNaN(e))return 40;const a=Math.min(Math.max(e,0),100);return Math.round(a/100*80)}(e);a({labelAlignment:i})},min:0,max:100,step:1,help:(0,n.__)("Expand (higher) or compress (lower) label spacing. 0â€“100 range.","vas-dinamico-forms")})]}),(0,p.jsxs)("div",{className:"eipsi-panel-section",style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e5e5"},children:[(0,p.jsx)("h3",{style:{fontSize:"13px",fontWeight:600,marginBottom:"12px"},children:(0,n.__)("Values","vas-dinamico-forms")}),(0,p.jsx)(r.ToggleControl,{label:(0,n.__)("Show selected value","vas-dinamico-forms"),checked:L,onChange:e=>a({showCurrentValue:!!e}),help:(0,n.__)("Show the number selected by the user","vas-dinamico-forms")}),L&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.SelectControl,{label:(0,n.__)("Value Position","vas-dinamico-forms"),value:y||"above",options:[{label:(0,n.__)("Above slider","vas-dinamico-forms"),value:"above"},{label:(0,n.__)("Below slider","vas-dinamico-forms"),value:"below"}],onChange:e=>a({valuePosition:e})}),(0,p.jsx)(r.__experimentalUnitControl,{label:(0,n.__)("Value font size","vas-dinamico-forms"),value:`${b||36}px`,onChange:e=>{const i=parseInt(e,10)||36;a({valueFontSize:i})},min:16,max:72,step:1,units:[{value:"px",label:"px",default:36}],isUnitSelectTabbable:!1})]})]})]}),(0,p.jsx)(r.PanelBody,{title:(0,n.__)("Conditional Logic","vas-dinamico-forms"),initialOpen:!1,children:(0,p.jsx)(M,{attributes:e,setAttributes:a,clientId:i})})]}),(0,p.jsxs)("div",{...B,children:[S&&(0,p.jsx)("label",{className:t?"required":void 0,htmlFor:k,children:S}),(0,p.jsxs)("div",{className:`vas-slider-container${!1!==_?" vas-bold-labels":""}${"below"===y?" vas-value-below":""}`,style:{"--vas-label-size":`${v||16}px`,"--vas-value-size":`${b||36}px`},children:[(0,p.jsx)("div",{className:"vas-multi-labels","data-label-count":q.length,children:q.map((e,a)=>{const i=q.length,s=["vas-multi-label",("string"==typeof e?e:"").includes("\n")&&"has-manual-breaks"].filter(Boolean).join(" "),o=X(a,i,K(N));return(0,p.jsx)("span",{className:s,style:o,children:e},`label-${a}`)})}),L&&(0,p.jsx)("div",{className:"vas-current-value-solo",id:R,children:$}),(0,p.jsx)("input",{type:"range",className:"vas-slider",min:T,max:A,step:w,value:$,onChange:e=>{const a=parseFloat(e.target.value);isNaN(a)||O(a)}})]}),Q(c)]})]})},save:function({attributes:e}){const{fieldName:a,label:i,required:s,helperText:r,labels:n,minValue:l,maxValue:t,step:c,initialValue:d,showValue:m,labelFontSize:u,valueFontSize:f,showLabelContainers:g,boldLabels:h,showCurrentValue:x,valuePosition:v,conditionalLogic:b,labelAlignment:_}=e,j=a&&""!==a.trim()?a.trim():void 0,y={className:"form-group eipsi-field eipsi-vas-slider-field"+("below"===v?" vas-value-below":""),"data-field-name":j,"data-required":s?"true":"false","data-field-type":"vas-slider","data-value-position":v||"above"};b&&b.enabled&&b.rules&&b.rules.length>0&&(y["data-conditional-logic"]=JSON.stringify(b));const N=o.useBlockProps.save(y),C=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(j),B=c&&c>0?c:1,S="number"!=typeof l||Number.isNaN(l)?0:l,k="number"!=typeof t||Number.isNaN(t)?S+B:t,w=k>S?k:S+B,T="number"==typeof d&&!Number.isNaN(d)&&d>=S&&d<=w?d:Math.floor((S+w)/2),I=n?P(n):[],F=I.length>0?I:[`${S}`,`${w}`],A=void 0!==x?x:!1!==m,$=A&&C?`${C}-value`:void 0;return(0,p.jsxs)("div",{...N,children:[i&&(0,p.jsx)("label",{className:s?"required":void 0,htmlFor:C,children:i}),(0,p.jsxs)("div",{className:`vas-slider-container${g?" vas-show-label-containers":""}${!1!==h?" vas-bold-labels":""}${"below"===v?" vas-value-below":""}`,"data-scale":`${S}-${w}`,style:{"--vas-label-size":`${u||16}px`,"--vas-value-size":`${f||36}px`},children:[(0,p.jsx)("div",{className:"vas-multi-labels","data-label-count":F.length,children:F.map((e,a)=>{const i=F.length,s=["vas-multi-label",("string"==typeof e?e:"").includes("\n")&&"has-manual-breaks"].filter(Boolean).join(" "),o=X(a,i,K(_));return(0,p.jsx)("span",{className:s,style:o,children:e},`label-${a}`)})}),A&&(0,p.jsx)("div",{className:"vas-current-value-solo",id:$,children:T}),(0,p.jsx)("input",{type:"range",name:j,id:C,className:"vas-slider",min:S,max:w,step:B,defaultValue:T,required:s,"data-required":s?"true":"false","data-show-value":A?"true":"false","data-touched":"false","aria-valuemin":S,"aria-valuemax":w,"aria-valuenow":T,"aria-labelledby":$})]}),ie(r),(0,p.jsx)("div",{className:"form-error","aria-live":"polite"})]})}})}},i={};function s(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return a[e](r,r.exports,s),r.exports}s.m=a,e=[],s.O=(a,i,o,r)=>{if(!i){var n=1/0;for(d=0;d<e.length;d++){for(var[i,o,r]=e[d],l=!0,t=0;t<i.length;t++)(!1&r||n>=r)&&Object.keys(s.O).every(e=>s.O[e](i[t]))?i.splice(t--,1):(l=!1,r<n&&(n=r));if(l){e.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,o,r]},s.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return s.d(a,{a}),a},s.d=(e,a)=>{for(var i in a)s.o(a,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},s.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};s.O.j=a=>0===e[a];var a=(a,i)=>{var o,r,[n,l,t]=i,c=0;if(n.some(a=>0!==e[a])){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(t)var d=t(s)}for(a&&a(i);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},i=globalThis.webpackChunkvas_dinamico_forms=globalThis.webpackChunkvas_dinamico_forms||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))})();var o=s.O(void 0,[350],()=>s(17));o=s.O(o)})();