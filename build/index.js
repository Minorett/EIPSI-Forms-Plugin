(()=>{"use strict";var e,a={878:(e,a,t)=>{const l=window.React,i=window.wp.blocks,r=window.wp.blockEditor,n=window.wp.components,o=window.wp.i18n,s=window.wp.serverSideRender;var m=t.n(s);(0,i.registerBlockType)("vas-dinamico/form-block",{edit:({attributes:e,setAttributes:a})=>{const{formId:t,showTitle:i}=e,s=(0,r.useBlockProps)();return(0,l.createElement)("div",{...s},(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Form Settings","vas-dinamico-forms")},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Form ID","vas-dinamico-forms"),value:t,onChange:e=>a({formId:e}),help:(0,o.__)("Enter the unique identifier for the form","vas-dinamico-forms")}),(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Show Title","vas-dinamico-forms"),checked:i,onChange:e=>a({showTitle:e})}))),t?(0,l.createElement)(m(),{block:"vas-dinamico/form-block",attributes:e}):(0,l.createElement)("div",{className:"vas-dinamico-form-placeholder"},(0,l.createElement)("div",{className:"components-placeholder"},(0,l.createElement)("div",{className:"components-placeholder__label"},(0,o.__)("VAS Dinámico Form","vas-dinamico-forms")),(0,l.createElement)("div",{className:"components-placeholder__instructions"},(0,o.__)("Please enter a Form ID in the block settings.","vas-dinamico-forms")))))},save:()=>null}),(0,i.registerBlockType)("vas-dinamico/form-container",{edit:function({attributes:e,setAttributes:a}){const{formId:t,submitButtonLabel:i,description:s,backgroundColor:m,textColor:c,borderRadius:d,padding:p}=e,u=(0,r.useBlockProps)({className:"eipsi-form-container-editor"}),f=(0,r.useInnerBlocksProps)({className:"eipsi-form-inner-blocks"},{allowedBlocks:["vas-dinamico/form-page","vas-dinamico/campo-texto","vas-dinamico/campo-textarea","vas-dinamico/campo-descripcion","vas-dinamico/campo-select","vas-dinamico/campo-radio","vas-dinamico/campo-multiple","vas-dinamico/campo-likert","vas-dinamico/vas-slider"],templateLock:!1,renderAppender:r.InnerBlocks.ButtonBlockAppender});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Form Settings","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Form ID/Slug","vas-dinamico-forms"),value:t,onChange:e=>a({formId:e}),help:(0,o.__)("Enter a unique identifier for the form (e.g., contact-form)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Submit Button Label","vas-dinamico-forms"),value:i,onChange:e=>a({submitButtonLabel:e})}),(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Description (Optional)","vas-dinamico-forms"),value:s,onChange:e=>a({description:e}),help:(0,o.__)("Optional description text shown above the form","vas-dinamico-forms")})),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Style Customization","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)("div",{style:{marginBottom:"1em"}},(0,l.createElement)("label",{htmlFor:"background-color"},(0,o.__)("Background Color","vas-dinamico-forms")),(0,l.createElement)(n.ColorPalette,{id:"background-color",colors:[{name:"Dark",color:"#23210f"},{name:"White",color:"#ffffff"},{name:"Gray",color:"#f0f0f0"}],value:m,onChange:e=>a({backgroundColor:e})})),(0,l.createElement)("div",{style:{marginBottom:"1em"}},(0,l.createElement)("label",{htmlFor:"text-color"},(0,o.__)("Text Color","vas-dinamico-forms")),(0,l.createElement)(n.ColorPalette,{id:"text-color",value:c,onChange:e=>a({textColor:e})})),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Padding","vas-dinamico-forms"),value:p,onChange:e=>a({padding:e}),min:0,max:60,step:4}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Border Radius","vas-dinamico-forms"),value:d,onChange:e=>a({borderRadius:e}),min:0,max:30,step:2}))),(0,l.createElement)("div",{...u},(0,l.createElement)("div",{className:"eipsi-form-container-preview"},!t&&(0,l.createElement)("div",{className:"eipsi-form-placeholder"},(0,l.createElement)("div",{className:"components-placeholder"},(0,l.createElement)("div",{className:"components-placeholder__label"},(0,o.__)("EIPSI Form Container","vas-dinamico-forms")),(0,l.createElement)("div",{className:"components-placeholder__instructions"},(0,o.__)("Please enter a Form ID in the block settings to get started.","vas-dinamico-forms")))),t&&(0,l.createElement)("div",{className:"eipsi-form-preview-wrapper"},(0,l.createElement)("div",{className:"form-header"},(0,l.createElement)("h3",{className:"form-title"},t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")),s&&(0,l.createElement)("p",{className:"form-description"},s)),(0,l.createElement)("div",{...f}),(0,l.createElement)("div",{className:"form-footer"},(0,l.createElement)("button",{type:"button",className:"eipsi-submit-button",disabled:!0},i||(0,o.__)("Submit","vas-dinamico-forms")))))))},save:function({attributes:e}){const{formId:a,submitButtonLabel:t,description:i,className:n}=e,o=r.useBlockProps.save({className:"vas-dinamico-form eipsi-form "+(n||"")}),s=r.useInnerBlocksProps.save({className:"eipsi-form eipsi-form-content"});return(0,l.createElement)("div",{...o},i&&(0,l.createElement)("div",{className:"form-description"},(0,l.createElement)("p",null,i)),(0,l.createElement)("form",{className:"vas-form eipsi-form-element","data-form-id":a},(0,l.createElement)("input",{type:"hidden",name:"form_id",value:a}),(0,l.createElement)("input",{type:"hidden",name:"form_action",value:"vas_dinamico_submit_form"}),(0,l.createElement)("input",{type:"hidden",name:"eipsi_nonce",value:""}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-device-placeholder",name:"device"}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-browser-placeholder",name:"browser"}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-os-placeholder",name:"os"}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-screen-placeholder",name:"screen_width"}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-start-time",name:"start_time"}),(0,l.createElement)("input",{type:"hidden",className:"eipsi-current-page",name:"current_page",value:"1"}),(0,l.createElement)("div",{...s}),(0,l.createElement)("div",{className:"form-navigation"},(0,l.createElement)("button",{type:"button",className:"eipsi-prev-button",style:{display:"none"},"data-testid":"prev-button"},"Anterior"),(0,l.createElement)("button",{type:"button",className:"eipsi-next-button","data-testid":"next-button"},"Siguiente"),(0,l.createElement)("button",{type:"submit",className:"eipsi-submit-button",style:{display:"none"},"data-testid":"submit-button"},t||"Enviar")),(0,l.createElement)("div",{className:"form-progress"},"Página ",(0,l.createElement)("span",{className:"current-page"},"1")," de"," ",(0,l.createElement)("span",{className:"total-pages"},"?"))))}});const c=window.wp.element,d=window.wp.data;(0,i.registerBlockType)("vas-dinamico/form-page",{edit:function({attributes:e,setAttributes:a,clientId:t}){const{title:i,pageIndex:s}=e,m=(0,d.useSelect)(e=>{const{getBlockRootClientId:a,getBlockOrder:l,getBlock:i}=e("core/block-editor"),r=a(t),n=((r?l(r):l())||[]).filter(e=>{const a=i(e);return"vas-dinamico/form-page"===a?.name}).indexOf(t);return-1===n?null:n+1},[t]);(0,c.useEffect)(()=>{m&&m!==s&&a({pageIndex:m})},[m,s,a]);const p=m||s||1,u=(0,r.useBlockProps)({className:"eipsi-page-editor"}),f=(0,r.useInnerBlocksProps)({className:"eipsi-page-content-editor"},{allowedBlocks:["core/paragraph","core/heading","core/html","core/spacer","core/separator","core/group","core/columns","core/column","core/list","core/list-item","core/image","core/buttons","core/button","vas-dinamico/campo-texto","vas-dinamico/campo-textarea","vas-dinamico/campo-descripcion","vas-dinamico/campo-select","vas-dinamico/campo-radio","vas-dinamico/campo-multiple","vas-dinamico/campo-likert","vas-dinamico/vas-slider"],templateLock:!1,renderAppender:void 0});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Page Settings","vas-dinamico-forms")},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Page Title (Optional)","vas-dinamico-forms"),value:i,onChange:e=>a({title:e}),help:(0,o.__)("Enter an optional title for this page (e.g., Personal Information)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Page Number","vas-dinamico-forms"),type:"number",value:p,help:(0,o.__)("This page number updates automatically based on block order.","vas-dinamico-forms"),disabled:!0}))),(0,l.createElement)("div",{...u},(0,l.createElement)("div",{className:"eipsi-page-preview"},(0,l.createElement)("div",{className:"page-header"},(0,l.createElement)("span",{className:"page-badge"},(0,o.__)("Page","vas-dinamico-forms")," ",p),i&&(0,l.createElement)("h3",{className:"eipsi-page-title"},i),!i&&(0,l.createElement)("p",{className:"page-placeholder-text"},(0,o.__)("Add a page title in the block settings (optional)","vas-dinamico-forms"))),(0,l.createElement)("div",{...f}))))},save:function({attributes:e}){const{title:a,pageIndex:t,className:i}=e,n=r.useBlockProps.save({className:`eipsi-page ${i||""}`.trim(),"data-page":t,style:{display:1===t?void 0:"none"}}),o=r.useInnerBlocksProps.save({className:"eipsi-page-content"});return(0,l.createElement)("div",{...n},a&&(0,l.createElement)("h3",{className:"eipsi-page-title"},a),(0,l.createElement)("div",{...o}))}});const p=({attributes:e,setAttributes:a,showPlaceholder:t=!0})=>{const{fieldName:i,label:r,required:s,placeholder:m,helperText:c}=e;return(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Field Name / Slug","vas-dinamico-forms"),value:i||"",onChange:e=>a({fieldName:e}),help:(0,o.__)("Used as the input name attribute (e.g., full_name)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Label","vas-dinamico-forms"),value:r||"",onChange:e=>a({label:e})}),(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Required field","vas-dinamico-forms"),checked:!!s,onChange:e=>a({required:!!e})}),t&&(0,l.createElement)(n.TextControl,{label:(0,o.__)("Placeholder","vas-dinamico-forms"),value:m||"",onChange:e=>a({placeholder:e})}),(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Helper text","vas-dinamico-forms"),value:c||"",onChange:e=>a({helperText:e}),help:(0,o.__)("Displayed below the field to provide additional guidance.","vas-dinamico-forms")}))},u=[{label:(0,o.__)("Text","vas-dinamico-forms"),value:"text"},{label:(0,o.__)("Email","vas-dinamico-forms"),value:"email"},{label:(0,o.__)("Number","vas-dinamico-forms"),value:"number"},{label:(0,o.__)("Telephone","vas-dinamico-forms"),value:"tel"},{label:(0,o.__)("URL","vas-dinamico-forms"),value:"url"},{label:(0,o.__)("Date","vas-dinamico-forms"),value:"date"}];(0,i.registerBlockType)("vas-dinamico/campo-texto",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,placeholder:m,helperText:c,fieldType:d}=e,f=t&&""!==t.trim()?t.trim():void 0,v=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-text-field","data-field-name":f,"data-required":s?"true":"false","data-field-type":d||"text"}),g=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(f),b=i&&""!==i.trim()?i:(0,o.__)("Campo de texto","vas-dinamico-forms");return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Text Field Options","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.SelectControl,{label:(0,o.__)("Input type","vas-dinamico-forms"),value:d,options:u,onChange:e=>a({fieldType:e})}))),(0,l.createElement)("div",{...v},(0,l.createElement)("label",{className:s?"required":void 0,htmlFor:g},b),(0,l.createElement)("input",{type:d||"text",name:f,id:g,placeholder:m||"",required:s,"data-required":s?"true":"false","data-field-type":d||"text",disabled:!0}),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(c),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,placeholder:n,helperText:o,fieldType:s}=e,m=a&&""!==a.trim()?a.trim():void 0,c=r.useBlockProps.save({className:"form-group eipsi-field eipsi-text-field","data-field-name":m,"data-required":i?"true":"false","data-field-type":s||"text"}),d=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(m),p=s||"text";return(0,l.createElement)("div",{...c},t&&(0,l.createElement)("label",{className:i?"required":void 0,htmlFor:d},t),(0,l.createElement)("input",{type:p,name:m,id:d,placeholder:n||"",required:i,"data-required":i?"true":"false","data-field-type":p}),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(o),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}}),(0,i.registerBlockType)("vas-dinamico/campo-textarea",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,placeholder:m,helperText:c,rows:d}=e,u=t&&""!==t.trim()?t.trim():void 0,f=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-textarea-field","data-field-name":u,"data-required":s?"true":"false","data-field-type":"textarea"}),v=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(u),g=i||(0,o.__)("Campo textarea","vas-dinamico-forms"),b=Number(d)||4;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Textarea Options","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Rows","vas-dinamico-forms"),value:b,onChange:e=>a({rows:Number(e)||4}),min:2,max:12}))),(0,l.createElement)("div",{...f},(0,l.createElement)("label",{className:s?"required":void 0,htmlFor:v},g),(0,l.createElement)("textarea",{name:u,id:v,placeholder:m||"",required:s,rows:b,"data-required":s?"true":"false","data-field-type":"textarea",disabled:!0}),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(c),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,placeholder:n,helperText:o,rows:s}=e,m=a&&""!==a.trim()?a.trim():void 0,c=r.useBlockProps.save({className:"form-group eipsi-field eipsi-textarea-field","data-field-name":m,"data-required":i?"true":"false","data-field-type":"textarea"}),d=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(m),p=Number(s)||4;return(0,l.createElement)("div",{...c},t&&(0,l.createElement)("label",{className:i?"required":void 0,htmlFor:d},t),(0,l.createElement)("textarea",{name:m,id:d,placeholder:n||"",required:i,rows:p,"data-required":i?"true":"false","data-field-type":"textarea"}),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(o),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}}),(0,i.registerBlockType)("vas-dinamico/campo-descripcion",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:n,placeholder:s,helperText:m}=e,c=t&&""!==t.trim()?t.trim():void 0,d=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-description-field","data-field-name":c,"data-required":n?"true":"false","data-field-type":"description"}),u=i||(0,o.__)("Campo descripción","vas-dinamico-forms");return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a})),(0,l.createElement)("div",{...d},u&&(0,l.createElement)("label",{className:n?"required":void 0},u),s&&(0,l.createElement)("p",{className:"description-placeholder"},s),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(m),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,placeholder:n,helperText:o}=e,s=a&&""!==a.trim()?a.trim():void 0,m=r.useBlockProps.save({className:"form-group eipsi-field eipsi-description-field","data-field-name":s,"data-required":i?"true":"false","data-field-type":"description"});return(0,l.createElement)("div",{...m},t&&(0,l.createElement)("label",{className:i?"required":void 0},t),n&&(0,l.createElement)("p",{className:"description-placeholder"},n),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(o),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}});const f=({attributes:e,setAttributes:a,options:t=[],totalPages:i=0})=>{const{conditionalLogic:r}=e,s=(()=>{try{const{getSelectedBlock:e,getBlockParentsByBlockName:a,getBlocks:t}=wp.data.select("core/block-editor"),l=e();if(!l)return i;const r=a(l.clientId,"vas-dinamico/form-container");if(r.length>0){const e=r[r.length-1],a=t().find(a=>a.clientId===e);if(a&&a.innerBlocks){const e=a.innerBlocks.filter(e=>"vas-dinamico/pagina"===e.name),t=a.innerBlocks.filter(e=>!e.name.includes("form-page")&&(e.name.includes("campo-")||e.name.includes("vas-slider")));return Math.max(e.length,t.length,i)}}return i}catch(e){return i}})(),m=(e,t,l)=>{const i=[...r.rules];i[e]={...i[e],[t]:l},a({conditionalLogic:{...r,rules:i}})},c=()=>{const e=[{label:(0,o.__)("Finalizar formulario","vas-dinamico-forms"),value:"submit"}];for(let a=1;a<=s;a++)e.push({label:(0,o.__)("Ir a Página","vas-dinamico-forms")+" #"+a,value:a.toString()});return e};return r?.enabled?(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Lógica Condicional","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Habilitar lógica condicional","vas-dinamico-forms"),checked:r?.enabled||!1,onChange:e=>{a(e?{conditionalLogic:{enabled:!0,rules:[]}}:{conditionalLogic:void 0})}}),r?.enabled&&(0,l.createElement)("div",{className:"conditional-logic-panel"},0===s&&(0,l.createElement)("div",{className:"conditional-logic-warning"},(0,l.createElement)("p",null,(0,o.__)("Agrega páginas al formulario para configurar la lógica condicional.","vas-dinamico-forms"))),0===t.length&&(0,l.createElement)("div",{className:"conditional-logic-warning"},(0,l.createElement)("p",null,(0,o.__)("Agrega opciones al campo para configurar la lógica condicional.","vas-dinamico-forms"))),r.rules.map((e,i)=>(0,l.createElement)("div",{key:i,className:"conditional-logic-rule"},(0,l.createElement)("h4",null,(0,o.__)("Regla","vas-dinamico-forms")," ",i+1),(0,l.createElement)(n.SelectControl,{label:(0,o.__)("Si el valor es","vas-dinamico-forms"),value:e.value,options:0===t.length?[{label:(0,o.__)("Agrega opciones primero","vas-dinamico-forms"),value:""}]:t.map(e=>({label:e,value:e})),onChange:e=>m(i,"value",e)}),(0,l.createElement)(n.SelectControl,{label:(0,o.__)("Entonces","vas-dinamico-forms"),value:"goToPage"===e.action?e.targetPage.toString():"submit",options:c(),onChange:e=>{"submit"===e?(m(i,"action","submit"),m(i,"targetPage",0)):(m(i,"action","goToPage"),m(i,"targetPage",parseInt(e)))}}),(0,l.createElement)(n.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=r.rules.filter((a,t)=>t!==e);a({conditionalLogic:{...r,rules:t}})})(i)},(0,o.__)("Eliminar regla","vas-dinamico-forms")))),(0,l.createElement)(n.Button,{isPrimary:!0,isSmall:!0,onClick:()=>{const e=[...r?.rules||[],{value:"",action:"goToPage",targetPage:1}];a({conditionalLogic:{...r,rules:e}})},disabled:0===t.length||0===s},(0,o.__)("Agregar regla","vas-dinamico-forms")))):null};(0,i.registerBlockType)("vas-dinamico/campo-select",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,placeholder:m,helperText:c,options:d,conditionalLogic:u}=e,v=t&&""!==t.trim()?t.trim():void 0,g=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-select-field","data-field-name":v,"data-required":s?"true":"false","data-field-type":"select"}),b=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(v),E=i&&""!==i.trim()?i:(0,o.__)("Campo de selección","vas-dinamico-forms"),h=(_=d)&&""!==_.trim()?_.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var _;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Lógica Condicional","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Habilitar lógica condicional","vas-dinamico-forms"),checked:u?.enabled||!1,onChange:e=>{a(e?{conditionalLogic:{enabled:!0,rules:[]}}:{conditionalLogic:void 0})},help:(0,o.__)("Permite redirigir a diferentes páginas según la respuesta seleccionada.","vas-dinamico-forms")})),(0,l.createElement)(f,{attributes:e,setAttributes:a,options:h,totalPages:0}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Select Options","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Options (comma-separated)","vas-dinamico-forms"),value:d||"",onChange:e=>a({options:e}),help:(0,o.__)("Enter options separated by commas (e.g., Option 1, Option 2, Option 3)","vas-dinamico-forms"),rows:5}))),(0,l.createElement)("div",{...g},(0,l.createElement)("label",{className:s?"required":void 0,htmlFor:b},E),(0,l.createElement)("select",{name:v,id:b,required:s,"data-required":s?"true":"false","data-field-type":"select",disabled:!0},m&&""!==m.trim()&&(0,l.createElement)("option",{value:""},m),h.length>0?h.map((e,a)=>(0,l.createElement)("option",{key:a,value:e},e)):(0,l.createElement)("option",{value:""},(0,o.__)("Add options in the sidebar","vas-dinamico-forms"))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(c),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,placeholder:n,helperText:o,options:s,conditionalLogic:m}=e,c=a&&""!==a.trim()?a.trim():void 0,d=r.useBlockProps.save({className:"form-group eipsi-field eipsi-select-field","data-field-name":c,"data-required":i?"true":"false","data-field-type":"select","data-conditional-logic":m?JSON.stringify(m):void 0}),p=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(c),u=(f=s)&&""!==f.trim()?f.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var f;return(0,l.createElement)("div",{...d},t&&(0,l.createElement)("label",{className:i?"required":void 0,htmlFor:p},t),(0,l.createElement)("select",{name:c,id:p,required:i,"data-required":i?"true":"false","data-field-type":"select"},n&&""!==n.trim()&&(0,l.createElement)("option",{value:""},n),u.map((e,a)=>(0,l.createElement)("option",{key:a,value:e},e))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(o),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}}),(0,i.registerBlockType)("vas-dinamico/campo-radio",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,helperText:m,options:c,conditionalLogic:d}=e,u=t&&""!==t.trim()?t.trim():void 0,v=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-radio-field","data-field-name":u,"data-required":s?"true":"false","data-field-type":"radio"}),g=i&&""!==i.trim()?i:(0,o.__)("Campo de opciones","vas-dinamico-forms"),b=(E=c)&&""!==E.trim()?E.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var E;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a,showPlaceholder:!1}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Lógica Condicional","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Habilitar lógica condicional","vas-dinamico-forms"),checked:d?.enabled||!1,onChange:e=>{a(e?{conditionalLogic:{enabled:!0,rules:[]}}:{conditionalLogic:void 0})},help:(0,o.__)("Permite redirigir a diferentes páginas según la opción seleccionada.","vas-dinamico-forms")})),(0,l.createElement)(f,{attributes:e,setAttributes:a,options:b,totalPages:0}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Radio Options","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Options (comma-separated)","vas-dinamico-forms"),value:c||"",onChange:e=>a({options:e}),help:(0,o.__)("Enter options separated by commas (e.g., Option 1, Option 2, Option 3)","vas-dinamico-forms"),rows:5}))),(0,l.createElement)("div",{...v},(0,l.createElement)("label",{className:s?"required":void 0},g),(0,l.createElement)("ul",{className:"radio-list"},b.length>0?b.map((e,a)=>{const t=((e,a="")=>{if(!e||""===e.trim())return;const t=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${t}-${a}`:`field-${t}`})(u,a.toString());return(0,l.createElement)("li",{key:a},(0,l.createElement)("input",{type:"radio",name:u,id:t,value:e,required:s,"data-required":s?"true":"false","data-field-type":"radio",disabled:!0}),(0,l.createElement)("label",{htmlFor:t},e))}):(0,l.createElement)("li",{className:"empty-state"},(0,o.__)("Add options in the sidebar","vas-dinamico-forms"))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(m),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,helperText:n,options:o,conditionalLogic:s}=e,m=a&&""!==a.trim()?a.trim():void 0,c=r.useBlockProps.save({className:"form-group eipsi-field eipsi-radio-field","data-field-name":m,"data-required":i?"true":"false","data-field-type":"radio","data-conditional-logic":s?JSON.stringify(s):void 0}),d=(p=o)&&""!==p.trim()?p.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var p;return(0,l.createElement)("div",{...c},t&&(0,l.createElement)("label",{className:i?"required":void 0},t),(0,l.createElement)("ul",{className:"radio-list"},d.map((e,a)=>{const t=((e,a="")=>{if(!e||""===e.trim())return;const t=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${t}-${a}`:`field-${t}`})(m,a.toString());return(0,l.createElement)("li",{key:a},(0,l.createElement)("input",{type:"radio",name:m,id:t,value:e,required:i,"data-required":i?"true":"false","data-field-type":"radio"}),(0,l.createElement)("label",{htmlFor:t},e))})),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(n),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}}),(0,i.registerBlockType)("vas-dinamico/campo-multiple",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,helperText:m,options:c,conditionalLogic:d}=e,u=t&&""!==t.trim()?t.trim():void 0,v=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-checkbox-field","data-field-name":u,"data-required":s?"true":"false","data-field-type":"checkbox"}),g=i&&""!==i.trim()?i:(0,o.__)("Campo de selección múltiple","vas-dinamico-forms"),b=(E=c)&&""!==E.trim()?E.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var E;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(p,{attributes:e,setAttributes:a,showPlaceholder:!1}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Lógica Condicional","vas-dinamico-forms"),initialOpen:!1},(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Habilitar lógica condicional","vas-dinamico-forms"),checked:d?.enabled||!1,onChange:e=>{a(e?{conditionalLogic:{enabled:!0,rules:[]}}:{conditionalLogic:void 0})},help:(0,o.__)("Permite redirigir a diferentes páginas según las opciones seleccionadas.","vas-dinamico-forms")})),(0,l.createElement)(f,{attributes:e,setAttributes:a,options:b,totalPages:0}),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Checkbox Options","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Options (comma-separated)","vas-dinamico-forms"),value:c||"",onChange:e=>a({options:e}),help:(0,o.__)("Enter options separated by commas (e.g., Option 1, Option 2, Option 3)","vas-dinamico-forms"),rows:5}))),(0,l.createElement)("div",{...v},(0,l.createElement)("label",{className:s?"required":void 0},g),(0,l.createElement)("ul",{className:"checkbox-list"},b.length>0?b.map((e,a)=>{const t=((e,a="")=>{if(!e||""===e.trim())return;const t=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${t}-${a}`:`field-${t}`})(u,a.toString());return(0,l.createElement)("li",{key:a},(0,l.createElement)("input",{type:"checkbox",name:`${u}[]`,id:t,value:e,"data-required":s?"true":"false","data-field-type":"checkbox",disabled:!0}),(0,l.createElement)("label",{htmlFor:t},e))}):(0,l.createElement)("li",{className:"empty-state"},(0,o.__)("Add options in the sidebar","vas-dinamico-forms"))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(m),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,helperText:n,options:o,conditionalLogic:s}=e,m=a&&""!==a.trim()?a.trim():void 0,c=r.useBlockProps.save({className:"form-group eipsi-field eipsi-checkbox-field","data-field-name":m,"data-required":i?"true":"false","data-field-type":"checkbox","data-conditional-logic":s?JSON.stringify(s):void 0}),d=(p=o)&&""!==p.trim()?p.split(",").map(e=>e.trim()).filter(e=>""!==e):[];var p;return(0,l.createElement)("div",{...c},t&&(0,l.createElement)("label",{className:i?"required":void 0},t),(0,l.createElement)("ul",{className:"checkbox-list"},d.map((e,a)=>{const t=((e,a="")=>{if(!e||""===e.trim())return;const t=e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-");return a?`field-${t}-${a}`:`field-${t}`})(m,a.toString());return(0,l.createElement)("li",{key:a},(0,l.createElement)("input",{type:"checkbox",name:`${m}[]`,id:t,value:e,"data-required":i?"true":"false","data-field-type":"checkbox"}),(0,l.createElement)("label",{htmlFor:t},e))})),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(n),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}});const v=e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`},g=e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`};(0,i.registerBlockType)("vas-dinamico/campo-likert",{edit:function({attributes:e,setAttributes:a,clientId:t}){const{fieldKey:i,fieldName:s,label:m,required:d,helperText:p,minValue:u,maxValue:f,labels:g}=e;(0,c.useEffect)(()=>{if(!i){const e=`likert-${t.replace(/[^a-zA-Z0-9]/g,"")}`;a({fieldKey:e})}},[i,t,a]);const b=s&&""!==s.trim()?s.trim():i,E=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-likert-field","data-field-name":b,"data-required":d?"true":"false","data-field-type":"likert","data-min":u,"data-max":f}),h=m&&""!==m.trim()?m:(0,o.__)("Escala Likert","vas-dinamico-forms"),_=g&&""!==g.trim()?g.split(",").map(e=>e.trim()).filter(e=>""!==e):[],N=[];for(let e=u;e<=f;e++)N.push(e);const y=_.length>0&&_.length!==N.length;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Field Name / Slug","vas-dinamico-forms"),value:s||"",onChange:e=>a({fieldName:e}),help:(0,o.__)("Used as the input name attribute (e.g., satisfaction)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Label","vas-dinamico-forms"),value:m||"",onChange:e=>a({label:e})}),(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Required field","vas-dinamico-forms"),checked:!!d,onChange:e=>a({required:!!e})}),(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Helper text","vas-dinamico-forms"),value:p||"",onChange:e=>a({helperText:e}),help:(0,o.__)("Displayed below the field to provide additional guidance.","vas-dinamico-forms")})),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Likert Scale Options","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Minimum Value","vas-dinamico-forms"),value:u,onChange:e=>{e<f&&a({minValue:e})},min:0,max:10,help:(0,o.__)("The lowest value in the scale","vas-dinamico-forms")}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Maximum Value","vas-dinamico-forms"),value:f,onChange:e=>{e>u&&a({maxValue:e})},min:1,max:10,help:(0,o.__)("The highest value in the scale","vas-dinamico-forms")}),(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Labels (comma-separated)","vas-dinamico-forms"),value:g||"",onChange:e=>a({labels:e}),help:(0,o.__)("Optional labels for each scale point. Must match the number of scale points.","vas-dinamico-forms")}),y&&(0,l.createElement)(n.Notice,{status:"warning",isDismissible:!1},(0,o.__)("You have %1$d labels but %2$d scale points. Labels will be ignored if count doesn't match.","vas-dinamico-forms").replace("%1$d",_.length).replace("%2$d",N.length)))),(0,l.createElement)("div",{...E},m&&(0,l.createElement)("label",{htmlFor:b?`${v(b)}-label`:void 0,className:d?"required":void 0},h),(0,l.createElement)("div",{className:"likert-scale likert-preview","data-scale":`${u}-${f}`},(0,l.createElement)("ul",{className:"likert-list"},N.map((e,a)=>{const t=`${v(b)}-${e}`,i=_[a]||e.toString();return(0,l.createElement)("li",{key:e,className:"likert-item"},(0,l.createElement)("input",{type:"radio",name:b,id:t,value:e,required:d,"data-required":d?"true":"false",disabled:!0}),(0,l.createElement)("label",{htmlFor:t,className:"likert-label"},i))}))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(p),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldKey:a,fieldName:t,label:i,required:n,helperText:o,minValue:s,maxValue:m,labels:c}=e,d=t&&""!==t.trim()?t.trim():a,p=r.useBlockProps.save({className:"form-group eipsi-field eipsi-likert-field","data-field-name":d,"data-required":n?"true":"false","data-field-type":"likert","data-min":s,"data-max":m}),u=c&&""!==c.trim()?c.split(",").map(e=>e.trim()).filter(e=>""!==e):[],f=[];for(let e=s;e<=m;e++)f.push(e);return(0,l.createElement)("div",{...p},i&&(0,l.createElement)("label",{htmlFor:d?`${g(d)}-label`:void 0,className:n?"required":void 0},i),(0,l.createElement)("div",{className:"likert-scale","data-scale":`${s}-${m}`},(0,l.createElement)("ul",{className:"likert-list"},f.map((e,a)=>{const t=`${g(d)}-${e}`,i=u[a]||e.toString();return(0,l.createElement)("li",{key:e,className:"likert-item"},(0,l.createElement)("label",{htmlFor:t,className:"likert-label-wrapper"},(0,l.createElement)("input",{type:"radio",name:d,id:t,value:e,required:n,"data-required":n?"true":"false"}),(0,l.createElement)("span",{className:"likert-label-text"},i)))}))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(o),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}}),(0,i.registerBlockType)("vas-dinamico/vas-slider",{edit:function({attributes:e,setAttributes:a}){const{fieldName:t,label:i,required:s,helperText:m,leftLabel:d,rightLabel:p,labels:u,minValue:f,maxValue:v,step:g,initialValue:b,showValue:E}=e,h=t&&""!==t.trim()?t.trim():void 0,_=(0,r.useBlockProps)({className:"form-group eipsi-field eipsi-vas-slider-field","data-field-name":h,"data-required":s?"true":"false","data-field-type":"vas-slider"}),N=i&&""!==i.trim()?i:(0,o.__)("VAS Slider","vas-dinamico-forms"),y=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(h),k=b>=f&&b<=v?b:Math.floor((f+v)/2),[x,C]=(0,c.useState)(k),q=u&&""!==u.trim()?u.split(",").map(e=>e.trim()).filter(e=>""!==e):[],T=q.length>0;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,o.__)("Field Settings","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextControl,{label:(0,o.__)("Field Name / Slug","vas-dinamico-forms"),value:t||"",onChange:e=>a({fieldName:e}),help:(0,o.__)("Used as the input name attribute (e.g., pain_level)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Label","vas-dinamico-forms"),value:i||"",onChange:e=>a({label:e})}),(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Required field","vas-dinamico-forms"),checked:!!s,onChange:e=>a({required:!!e})}),(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Helper text","vas-dinamico-forms"),value:m||"",onChange:e=>a({helperText:e}),help:(0,o.__)("Displayed below the field to provide additional guidance.","vas-dinamico-forms")})),(0,l.createElement)(n.PanelBody,{title:(0,o.__)("VAS Slider Options","vas-dinamico-forms"),initialOpen:!0},(0,l.createElement)(n.TextareaControl,{label:(0,o.__)("Labels (comma-separated)","vas-dinamico-forms"),value:u||"",onChange:e=>a({labels:e}),help:(0,o.__)('Optional: Multiple labels for scale points (e.g., "Muy mal,Mal,Neutral,Bien,Muy bien")',"vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Left Label","vas-dinamico-forms"),value:d||"",onChange:e=>a({leftLabel:e}),help:(0,o.__)("Label for the minimum value (used when multi-labels are not set)","vas-dinamico-forms")}),(0,l.createElement)(n.TextControl,{label:(0,o.__)("Right Label","vas-dinamico-forms"),value:p||"",onChange:e=>a({rightLabel:e}),help:(0,o.__)("Label for the maximum value (used when multi-labels are not set)","vas-dinamico-forms")}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Minimum Value","vas-dinamico-forms"),value:f,onChange:e=>{if(a({minValue:e}),v<=e&&a({maxValue:e+1}),b<e){const t=Math.floor((e+v)/2);a({initialValue:t}),C(t)}},min:0,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Maximum Value","vas-dinamico-forms"),value:v,onChange:e=>{if(a({maxValue:e}),f>=e&&a({minValue:e-1}),b>e){const t=Math.floor((f+e)/2);a({initialValue:t}),C(t)}},min:1,max:1e3}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Step","vas-dinamico-forms"),value:g,onChange:e=>a({step:e}),min:.1,max:10,step:.1,help:(0,o.__)("Increment for each slider movement","vas-dinamico-forms")}),(0,l.createElement)(n.RangeControl,{label:(0,o.__)("Initial Value","vas-dinamico-forms"),value:b,onChange:e=>{a({initialValue:e}),C(e)},min:f,max:v,step:g,help:(0,o.__)("Default slider position","vas-dinamico-forms")}),(0,l.createElement)(n.ToggleControl,{label:(0,o.__)("Show current value","vas-dinamico-forms"),checked:!!E,onChange:e=>a({showValue:!!e})}))),(0,l.createElement)("div",{..._},(0,l.createElement)("label",{className:s?"required":void 0,htmlFor:y},N),(0,l.createElement)("div",{className:"vas-slider-container vas-slider-preview","data-scale":`${f}-${v}`},!T&&(0,l.createElement)("div",{className:"vas-slider-labels"},d&&(0,l.createElement)("span",{className:"vas-label-left"},d),E&&(0,l.createElement)("span",{className:"vas-current-value",id:`${y}-value`},x),p&&(0,l.createElement)("span",{className:"vas-label-right"},p)),T&&(0,l.createElement)("div",{className:"vas-multi-labels"},q.map((e,a)=>(0,l.createElement)("span",{key:a,className:"vas-multi-label"},e))),T&&E&&(0,l.createElement)("div",{className:"vas-current-value-solo",id:`${y}-value`},x),(0,l.createElement)("input",{type:"range",name:h,id:y,className:"vas-slider",min:f,max:v,step:g,value:x,onChange:e=>C(parseFloat(e.target.value)),required:s,"data-required":s?"true":"false","data-show-value":E?"true":"false","aria-valuemin":f,"aria-valuemax":v,"aria-valuenow":x,"aria-labelledby":`${y}-value`})),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(m),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"})))},save:function({attributes:e}){const{fieldName:a,label:t,required:i,helperText:n,labels:o,minValue:s,maxValue:m,step:c,initialValue:d,showValue:p}=e,u=a&&""!==a.trim()?a.trim():void 0,f=r.useBlockProps.save({className:"form-group eipsi-field eipsi-vas-slider-field","data-field-name":u,"data-required":i?"true":"false","data-field-type":"vas-slider"}),v=(e=>{if(e&&""!==e.trim())return`field-${e.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"-")}`})(u),g=d>=s&&d<=m?d:Math.floor((s+m)/2),b=o&&""!==o.trim()?o.split(",").map(e=>e.trim()).filter(e=>""!==e):["Nada","Leve","Moderado","Fuerte","Muy fuerte"];return(0,l.createElement)("div",{...f},t&&(0,l.createElement)("label",{className:i?"required":void 0,htmlFor:v},t),(0,l.createElement)("div",{className:"vas-section"},(0,l.createElement)("div",{className:"vas-slider-container"},b.length>0&&(0,l.createElement)("div",{className:"vas-labels"},b.map((e,a)=>(0,l.createElement)("span",{key:a,className:"vas-label"},e))),(0,l.createElement)("div",{className:"vas-slider-wrapper"},(0,l.createElement)("input",{type:"range",name:u,id:v,className:"vas-slider",min:s,max:m,step:c,defaultValue:g,required:i,"data-required":i?"true":"false","data-show-value":p?"true":"false","aria-valuemin":s,"aria-valuemax":m,"aria-valuenow":g,"aria-labelledby":`${v}-value`})),p&&(0,l.createElement)("div",{className:"vas-value-display"},(0,l.createElement)("span",{className:"vas-value-number",id:`${v}-value-display`},g)))),(e=>{if(!e||""===e.trim())return null;const a=e.split("\n");return(0,l.createElement)("p",{className:"field-helper"},a.map((e,t)=>(0,l.createElement)("span",{key:t},e,t<a.length-1&&(0,l.createElement)("br",null))))})(n),(0,l.createElement)("div",{className:"form-error","aria-live":"polite"}))}})}},t={};function l(e){var i=t[e];if(void 0!==i)return i.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,i,r)=>{if(!t){var n=1/0;for(c=0;c<e.length;c++){for(var[t,i,r]=e[c],o=!0,s=0;s<t.length;s++)(!1&r||n>=r)&&Object.keys(l.O).every(e=>l.O[e](t[s]))?t.splice(s--,1):(o=!1,r<n&&(n=r));if(o){e.splice(c--,1);var m=i();void 0!==m&&(a=m)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,i,r]},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var i,r,[n,o,s]=t,m=0;if(n.some(a=>0!==e[a])){for(i in o)l.o(o,i)&&(l.m[i]=o[i]);if(s)var c=s(l)}for(a&&a(t);m<n.length;m++)r=n[m],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},t=globalThis.webpackChunkvas_dinamico_forms=globalThis.webpackChunkvas_dinamico_forms||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var i=l.O(void 0,[350],()=>l(878));i=l.O(i)})();